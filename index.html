<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <title>Esta√ß√£o da Terra - Loja</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
  <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
</head>
<body>
  <!-- Anima√ß√£o de Boas-Vindas -->
  <div id="boasVindas" class="boas-vindas">
    <h1>Bem-vindo √† Esta√ß√£o da Terra!</h1>
    <p>Do campo √† cidade, colhendo oportunidades</p>
  </div>

  <!-- Som Ambiente -->
  <audio id="somAmbiente" loop autoplay>
    <source src="audio/som-mato.mp3" type="audio/mp3" />
    Seu navegador n√£o suporta √°udio.
  </audio>
  <button id="btnSom" aria-label="Ativar/Desativar som ambiente">üîä</button>

  <!-- Acessibilidade -->
  <div id="acessibilidade">
    <button onclick="toggleContraste()" aria-label="Alternar contraste">üåì</button>
    <button onclick="aumentarFonte()" aria-label="Aumentar fonte">üî†</button>
    <button onclick="diminuirFonte()" aria-label="Diminuir fonte">üî°</button>
  </div>

  <!-- VLibras -->
  <div vw class="enabled">
    <div vw-access-button class="active"></div>
    <div vw-plugin-wrapper>
      <div class="vw-plugin-top-wrapper"></div>
    </div>
  </div>

  <!-- Cabe√ßalho -->
  <header>
    <h1>Esta√ß√£o da Terra</h1>
    <p class="slogan">Do campo √† cidade, colhendo oportunidades</p>
    <nav class="menu">
      <ul>
        <li><a href="quiz.html">Quiz</a></li>
        <li><a href="sobre.html">Sobre</a></li>
      </ul>
    </nav>
  </header>

  <!-- Loja -->
  <main>
    <section id="produtos">
      <h2>Produtos √† Venda</h2>
      <div class="barracas">
        <!-- Produtos originais - mantidos conforme seu c√≥digo -->

        <div class="produto-card">
          <img src="img/ma√ß√£.jpg" alt="Ma√ß√£ Org√¢nica" />
          <h3>Ma√ß√£ Org√¢nica</h3>
          <p>R$ 3,00/kg</p>
          <button onclick="adicionarAoCarrinho('Ma√ß√£ Org√¢nica', 3)">Adicionar</button>
        </div>
        <div class="produto-card">
          <img src="img/mel.jpg" alt="Mel Puro" />
          <h3>Mel Puro</h3>
          <p>R$ 15,00</p>
          <button onclick="adicionarAoCarrinho('Mel Puro', 15)">Adicionar</button>
        </div>
        <div class="produto-card">
          <img src="img/queijo.jpg" alt="Queijo Artesanal" />
          <h3>Queijo Artesanal</h3>
          <p>R$ 25,00</p>
          <button onclick="adicionarAoCarrinho('Queijo Artesanal', 25)">Adicionar</button>
        </div>

        <div class="produto-card">
          <img src="img/banana.jpg" alt="Banana" />
          <h3>Banana</h3>
          <p>R$ 2,50/kg</p>
          <button onclick="adicionarAoCarrinho('Banana', 2.5)">Adicionar</button>
        </div>
        <div class="produto-card">
          <img src="img/tomate.jpg" alt="Tomate" />
          <h3>Tomate</h3>
          <p>R$ 4,00/kg</p>
          <button onclick="adicionarAoCarrinho('Tomate', 4)">Adicionar</button>
        </div>
        <div class="produto-card">
          <img src="img/alface.jpg" alt="Alface" />
          <h3>Alface</h3>
          <p>R$ 1,80/un</p>
          <button onclick="adicionarAoCarrinho('Alface', 1.8)">Adicionar</button>
        </div>
        <div class="produto-card">
          <img src="img/cenoura.jpg" alt="Cenoura" />
          <h3>Cenoura</h3>
          <p>R$ 3,20/kg</p>
          <button onclick="adicionarAoCarrinho('Cenoura', 3.2)">Adicionar</button>
        </div>
        <div class="produto-card">
          <img src="img/batata.jpg" alt="Batata" />
          <h3>Batata</h3>
          <p>R$ 2,90/kg</p>
          <button onclick="adicionarAoCarrinho('Batata', 2.9)">Adicionar</button>
        </div>
        <div class="produto-card">
          <img src="img/abacate.jpg" alt="Abacate" />
          <h3>Abacate</h3>
          <p>R$ 7,00/un</p>
          <button onclick="adicionarAoCarrinho('Abacate', 7)">Adicionar</button>
        </div>
        <div class="produto-card">
          <img src="img/P√£ointegral.jpg" alt="P√£o Integral" />
          <h3>P√£o Integral</h3>
          <p>R$ 6,50</p>
          <button onclick="adicionarAoCarrinho('P√£o Integral', 6.5)">Adicionar</button>
        </div>
        <div class="produto-card">
          <img src="img/leite.jpg" alt="Leite" />
          <h3>Leite</h3>
          <p>R$ 4,00/litro</p>
          <button onclick="adicionarAoCarrinho('Leite', 4)">Adicionar</button>
        </div>
        <div class="produto-card">
          <img src="img/ovo.jpg" alt="Ovos" />
          <h3>Ovos</h3>
          <p>R$ 8,00/12 unidades</p>
          <button onclick="adicionarAoCarrinho('Ovos', 8)">Adicionar</button>
        </div>
        <div class="produto-card">
          <img src="img/arroz.jpg" alt="Arroz Integral" />
          <h3>Arroz</h3>
          <p>R$ 5,50/kg</p>
          <button onclick="adicionarAoCarrinho('Arroz Integral', 5.5)">Adicionar</button>
        </div>
        <div class="produto-card">
          <img src="img/feij√£o.jpg" alt="Feij√£o" />
          <h3>Feij√£o</h3>
          <p>R$ 6,00/kg</p>
          <button onclick="adicionarAoCarrinho('Feij√£o', 6)">Adicionar</button>
        </div>
      </div>
    </section>

    <!-- Carrinho -->
    <section id="carrinho">
      <h2>üõí Carrinho de Compras</h2>
      <ul id="lista-carrinho"></ul>
      <button onclick="esvaziarCarrinho()">üóëÔ∏è Esvaziar Carrinho</button>
      <button id="finalizarCompra">üí≥ Finalizar Compra</button>
    </section>
  </main>

  <button id="btnTopo" title="Voltar ao topo" aria-label="Voltar ao topo">‚¨ÜÔ∏è</button>

  <!-- Rodap√© -->
  <footer>
    <p>&copy; 2025 Esta√ß√£o da Terra. Todos os direitos reservados.</p>
    <div class="redes-sociais">
      <a href="https://instagram.com/estacaodaterra" target="_blank" aria-label="Instagram">
        <img src="img/instagram.svg" alt="Instagram" />
      </a>
      <a href="https://facebook.com/estacaodaterra" target="_blank" aria-label="Facebook">
        <img src="img/facebook.svg" alt="Facebook" />
      </a>
    </div>
    <div class="formas-pagamento">
      <p>Formas de Pagamento:</p>
      <img src="img/pix.svg" alt="PIX" title="PIX" />
      <img src="img/visa.svg" alt="Visa" title="Visa" />
      <img src="img/mastercard.svg" alt="Mastercard" title="Mastercard" />
      <img src="img/amex.svg" alt="American Express" title="American Express" />
    </div>
  </footer>

  <script>
    // VLibras
    new window.VLibras.Widget("https://vlibras.gov.br/app");

    // Carrinho de Compras
    let carrinho = [];

    function adicionarAoCarrinho(nome, preco) {
      const itemExistente = carrinho.find((item) => item.nome === nome);
      if (itemExistente) {
        itemExistente.quantidade++;
      } else {
        carrinho.push({ nome, preco, quantidade: 1 });
      }
      atualizarCarrinho();
    }

    function atualizarCarrinho() {
      const lista = document.getElementById("lista-carrinho");
      lista.innerHTML = "";

      if (carrinho.length === 0) {
        const vazio = document.createElement("li");
        vazio.textContent = "Carrinho vazio.";
        lista.appendChild(vazio);
        return;
      }

      carrinho.forEach((item, index) => {
        const li = document.createElement("li");
        li.textContent = `${item.nome} ‚Äî ${item.quantidade}x ‚Äî R$ ${(item.preco * item.quantidade).toFixed(2)}`;
        // Bot√£o para remover 1 unidade
        const btnRemover = document.createElement("button");
        btnRemover.textContent = "‚ùå";
        btnRemover.setAttribute("aria-label", `Remover 1 ${item.nome} do carrinho`);
        btnRemover.onclick = () => {
          if (item.quantidade > 1) {
            item.quantidade--;
          } else {
            carrinho.splice(index, 1);
          }
          atualizarCarrinho();
        };
        li.appendChild(btnRemover);
        lista.appendChild(li);
      });

      const total = carrinho.reduce((acc, item) => acc + item.preco * item.quantidade, 0);
      const liTotal = document.createElement("li");
      liTotal.style.fontWeight = "bold";
      liTotal.style.marginTop = "10px";
      liTotal.textContent = `Total: R$ ${total.toFixed(2)}`;
      lista.appendChild(liTotal);
    }

    function esvaziarCarrinho() {
      carrinho = [];
      atualizarCarrinho();
    }

    // Finalizar compra - s√≥ simula alert
    document.getElementById("finalizarCompra").addEventListener("click", () => {
      if (carrinho.length === 0) {
        alert("Seu carrinho est√° vazio.");
        return;
      }
      let mensagem = "Obrigado pela compra!\nResumo do pedido:\n";
      carrinho.forEach((item) => {
        mensagem += `${item.nome} ‚Äî ${item.quantidade}x ‚Äî R$ ${(item.preco * item.quantidade).toFixed(2)}\n`;
      });
      mensagem += `Total: R$ ${carrinho.reduce((acc, item) => acc + item.preco * item.quantidade, 0).toFixed(2)}`;
      alert(mensagem);
      esvaziarCarrinho();
    });

    // Acessibilidade
    function toggleContraste() {
      document.body.classList.toggle("contraste");
    }
    function aumentarFonte() {
      const style = window.getComputedStyle(document.body).fontSize;
      let size = parseFloat(style);
      if (size < 24) {
        document.body.style.fontSize = size + 2 + "px";
      }
    }
    function diminuirFonte() {
      const style = window.getComputedStyle(document.body).fontSize;
      let size = parseFloat(style);
      if (size > 12) {
        document.body.style.fontSize = size - 2 + "px";
      }
    }

    // Bot√£o voltar ao topo
    const btnTopo = document.getElementById("btnTopo");
    window.onscroll = () => {
      if (document.documentElement.scrollTop > 150) {
        btnTopo.style.display = "block";
      } else {
        btnTopo.style.display = "none";
      }
    };
    btnTopo.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
    });

    // Controle do som ambiente
    const somAmbiente = document.getElementById("somAmbiente");
    const btnSom = document.getElementById("btnSom");
    btnSom.addEventListener("click", () => {
      if (somAmbiente.paused) {
        somAmbiente.play();
        btnSom.textContent = "üîä";
      } else {
        somAmbiente.pause();
        btnSom.textContent = "üîà";
      }
    });

    // Anima√ß√£o de boas-vindas
    window.addEventListener("load", () => {
      const boasVindas = document.getElementById("boasVindas");
      setTimeout(() => {
        boasVindas.style.opacity = "0";
        setTimeout(() => {
          boasVindas.style.display = "none";
        }, 1000);
      }, 3500);
    });

    // Inicializa carrinho
    atualizarCarrinho();
  </script>
</body>
</html>
