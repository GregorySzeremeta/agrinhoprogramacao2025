<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Esta√ß√£o da Terra</title>
  <link rel="stylesheet" href="style.css" />
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Acessibilidade: modo escuro/claro
      const btnModo = document.getElementById('btn-modo');
      btnModo.addEventListener('click', () => {
        document.body.classList.toggle('modo-escuro');
      });

      // Acessibilidade: aumentar fonte
      const btnFonte = document.getElementById('btn-fonte');
      btnFonte.addEventListener('click', () => {
        const html = document.documentElement;
        let tamanhoAtual = parseFloat(window.getComputedStyle(html).fontSize);
        if (tamanhoAtual < 24) {
          html.style.fontSize = (tamanhoAtual + 2) + 'px';
        } else {
          html.style.fontSize = '16px';
        }
      });

      // LIBRAS overlay
      const btnLibras = document.getElementById('btn-libras');
      const overlayLibras = document.getElementById('libras-overlay');
      const btnFecharLibras = document.getElementById('btn-fechar-libras');

      btnLibras.addEventListener('click', () => {
        overlayLibras.style.display = 'flex';
      });

      btnFecharLibras.addEventListener('click', () => {
        overlayLibras.style.display = 'none';
      });

      // Som ambiente
      const btnSom = document.getElementById('btn-som');
      const audio = document.getElementById('audio-ambiente');
      let tocando = false;

      btnSom.addEventListener('click', () => {
        if (!tocando) {
          audio.play();
          btnSom.textContent = 'üîà';
          tocando = true;
        } else {
          audio.pause();
          btnSom.textContent = 'üîá';
          tocando = false;
        }
      });

      // Quiz
      const quizPerguntas = [
        {
          pergunta: 'Qual √© o principal produto agr√≠cola do Brasil?',
          opcoes: ['Soja', 'Cana-de-a√ß√∫car', 'Milho', 'Arroz'],
          correta: 1
        },
        {
          pergunta: 'O que √© agricultura sustent√°vel?',
          opcoes: [
            'Uso intensivo de agrot√≥xicos',
            'Cultivo que preserva o meio ambiente',
            'Desmatamento para plantar',
            'Uso de m√°quinas pesadas'
          ],
          correta: 1
        },
        {
          pergunta: 'Qual desses √© um gr√£o?',
          opcoes: ['Alface', 'Feij√£o', 'Tomate', 'Morango'],
          correta: 1
        },
        {
          pergunta: 'Qual √© a fun√ß√£o do mel na natureza?',
          opcoes: [
            'Atrair polinizadores',
            'Prote√ß√£o das flores',
            'Alimento para plantas',
            'Poliniza√ß√£o das plantas'
          ],
          correta: 3
        },
        {
          pergunta: 'O que s√£o org√¢nicos na agricultura?',
          opcoes: [
            'Produtos sem pesticidas e qu√≠micos',
            'Produtos sint√©ticos',
            'Produtos industrializados',
            'Produtos geneticamente modificados'
          ],
          correta: 0
        },
        {
          pergunta: 'Qual desses alimentos √© um derivado do leite?',
          opcoes: ['Queijo', 'Ma√ß√£', 'Cenoura', 'Arroz'],
          correta: 0
        },
        {
          pergunta: 'O que √© compostagem?',
          opcoes: [
            'Queima de res√≠duos',
            'Reciclagem de res√≠duos org√¢nicos',
            'Uso de fertilizantes qu√≠micos',
            'Irriga√ß√£o de planta√ß√µes'
          ],
          correta: 1
        },
        {
          pergunta: 'Qual √© a import√¢ncia das abelhas?',
          opcoes: [
            'Produ√ß√£o de l√£',
            'Poliniza√ß√£o de plantas',
            'Produ√ß√£o de frutas',
            'Controle de pragas'
          ],
          correta: 1
        },
        {
          pergunta: 'Qual desses √© um vegetal?',
          opcoes: ['Cenoura', 'Ma√ß√£', 'Laranja', 'Mel'],
          correta: 0
        },
        {
          pergunta: 'O que √© um produto sustent√°vel?',
          opcoes: [
            'Produzido sem dano ambiental',
            'Produzido rapidamente',
            'Produzido com qu√≠micos',
            'Produzido em larga escala'
          ],
          correta: 0
        }
      ];

      const quizContainer = document.getElementById('quiz-container');
      const btnIniciarQuiz = document.getElementById('btn-iniciar-quiz');
      const resultadoQuiz = document.getElementById('resultado-quiz');

      let indicePerguntaAtual = 0;
      let pontuacao = 0;

      function mostrarPergunta() {
        const perguntaAtual = quizPerguntas[indicePerguntaAtual];
        let htmlPergunta = `<p><strong>${perguntaAtual.pergunta}</strong></p><form id="form-quiz">`;
        perguntaAtual.opcoes.forEach((opcao, i) => {
          htmlPergunta += `
            <label>
              <input type="radio" name="resposta" value="${i}" required />
              ${opcao}
            </label><br />
          `;
        });
        htmlPergunta += `<button type="submit">Responder</button></form>`;
        quizContainer.innerHTML = htmlPergunta;

        const formQuiz = document.getElementById('form-quiz');
        formQuiz.addEventListener('submit', e => {
          e.preventDefault();
          const respostaSelecionada = formQuiz.resposta.value;
          if (parseInt(respostaSelecionada) === perguntaAtual.correta) {
            pontuacao++;
          }
          indicePerguntaAtual++;
          if (indicePerguntaAtual < quizPerguntas.length) {
            mostrarPergunta();
          } else {
            quizContainer.innerHTML = '';
            resultadoQuiz.textContent = `Voc√™ acertou ${pontuacao} de ${quizPerguntas.length} perguntas!`;
            btnIniciarQuiz.style.display = 'inline-block';
            btnIniciarQuiz.textContent = 'Refazer Quiz';
            indicePerguntaAtual = 0;
            pontuacao = 0;
          }
        });
      }

      btnIniciarQuiz.addEventListener('click', () => {
        resultadoQuiz.textContent = '';
        btnIniciarQuiz.style.display = 'none';
        mostrarPergunta();
      });

      // Carrinho
      const carrinho = [];
      const listaCarrinho = document.getElementById('lista-carrinho');
      const totalCarrinho = document.getElementById('total');
      const btnEsvaziar = document.getElementById('btn-esvaziar');
      const btnFinalizar = document.getElementById('btn-finalizar');

      function atualizarCarrinho() {
        listaCarrinho.innerHTML = '';
        let total = 0;
        if (carrinho.length === 0) {
          listaCarrinho.innerHTML = '<li>O carrinho est√° vazio.</li>';
          totalCarrinho.textContent = 'Total: R$ 0,00';
          return;
        }
        carrinho.forEach(item => {
          const li = document.createElement('li');
          li.textContent = `${item.nome} x${item.quantidade} - R$ ${(item.preco * item.quantidade).toFixed(2)}`;
          listaCarrinho.appendChild(li);
          total += item.preco * item.quantidade;
        });
        totalCarrinho.textContent = `Total: R$ ${total.toFixed(2)}`;
      }

      function adicionarAoCarrinho(produto) {
        const itemExistente = carrinho.find(i => i.id === produto.id);
        if (itemExistente) {
          itemExistente.quantidade++;
        } else {
          carrinho.push({...produto, quantidade: 1});
        }
        atualizarCarrinho();
      }

      btnEsvaziar.addEventListener('click', () => {
        carrinho.length = 0;
        atualizarCarrinho();
      });

      btnFinalizar.addEventListener('click', () => {
        if (carrinho.length === 0) {
          alert('Seu carrinho est√° vazio.');
          return;
        }
        window.location.href = 'pagamento.html';
      });

      // Adicionar evento para todos bot√µes adicionar produto
      const botoesAdicionar = document.querySelectorAll('.btn-add');
      botoesAdicionar.forEach(botao => {
        botao.addEventListener('click', () => {
          const produtoId = parseInt(botao.dataset.id);
          const produtoNome = botao.dataset.nome;
          const produtoPreco = parseFloat(botao.dataset.preco);
          adicionarAoCarrinho({id: produtoId, nome: produtoNome, preco: produtoPreco});
        });
      });
    });
  </script>
</head>
<body>
  <header>
    <h1>Esta√ß√£o da Terra</h1>
    <p class="slogan">Do campo √† cidade, colhendo oportunidades</p>
    <nav>
      <ul>
        <li><a href="#loja" tabindex="1">Loja</a></li>
        <li><a href="#quiz" tabindex="2">Quiz</a></li>
        <li><a href="#sobre" tabindex="3">Sobre</a></li>
        <li><a href="#contato" tabindex="4">Contato</a></li>
      </ul>
    </nav>
  </header>

  <div id="acessibilidade" aria-label="Controles de acessibilidade">
    <button id="btn-fonte" title="Aumentar Fonte" aria-pressed="false" tabindex="10">A+</button>
    <button id="btn-modo" title="Alternar Modo Claro/Escuro" aria-pressed="false" tabindex="11">üåô</button>
    <button id="btn-libras" title="Ativar LIBRAS" tabindex="12">ü§ü</button>
  </div>

  <button id="btn-som" title="Ligar/Desligar Som Ambiente" aria-pressed="false" tabindex="13">üîá</button>
  <audio id="audio-ambiente" loop>
    <source src="audio/som-ambiente.mp3" type="audio/mpeg" />
  </audio>

  <main>
    <!-- LOJA -->
    <section id="loja" aria-label="Se√ß√£o de produtos √† venda">
      <h2>Produtos da Esta√ß√£o</h2>
      <div class="feira">
        <!-- Categoria 1: Leite e Derivados -->
        <div class="categoria" tabindex="0" aria-label="Categoria Leite e Derivados">
          <h3>Leite e Derivados</h3>
          <div class="produtos">
            <div class="produto" tabindex="0" aria-describedby="desc-leite">
              <img src="img/leite.jpg" alt="Leite Fresco" />
              <h4>Leite Fresco</h4>
              <p class="descricao" id="desc-leite">Leite puro, direto da fazenda.</p>
              <p class="preco">R$ 5,50</p>
              <button class="btn-add" data-id="1" data-nome="Leite Fresco" data-preco="5.50" tabindex="0">Adicionar</button>
            </div>
            <div class="produto" tabindex="0" aria-describedby="desc-queijo">
              <img src="img/queijo.jpg" alt="Queijo Minas" />
              <h4>Queijo Minas</h4>
              <p class="descricao" id="desc-queijo">Queijo artesanal de alta qualidade.</p>
              <p class="preco">R$ 25,00</p>
              <button class="btn-add" data-id="2" data-nome="Queijo Minas" data-preco="25.00" tabindex="0">Adicionar</button>
            </div>
          </div>
        </div>
        <!-- Categoria 2: Frutas -->
        <div class="categoria" tabindex="0" aria-label="Categoria Frutas">
          <h3>Frutas</h3>
          <div class="produtos">
            <div class="produto" tabindex="0" aria-describedby="desc-maca">
              <img src="img/maca.jpg" alt="Ma√ß√£ Vermelha" />
              <h4>Ma√ß√£ Vermelha</h4>
              <p class="descricao" id="desc-maca">Ma√ß√£s frescas e doces.</p>
              <p class="preco">R$ 7,00</p>
              <button class="btn-add" data-id="3" data-nome="Ma√ß√£ Vermelha" data-preco="7.00" tabindex="0">Adicionar</button>
            </div>
            <div class="produto" tabindex="0" aria-describedby="desc-banana">
              <img src="img/banana.jpg" alt="Banana Nanica" />
              <h4>Banana Nanica</h4>
              <p class="descricao" id="desc-banana">Bananas saborosas e nutritivas.</p>
              <p class="preco">R$ 4,50</p>
              <button class="btn-add" data-id="4" data-nome="Banana Nanica" data-preco="4.50" tabindex="0">Adicionar</button>
            </div>
          </div>
        </div>
        <!-- Categoria 3: Mel -->
        <div class="categoria" tabindex="0" aria-label="Categoria Mel">
          <h3>Mel</h3>
          <div class="produtos">
            <div class="produto" tabindex="0" aria-describedby="desc-mel">
              <img src="img/mel.jpg" alt="Mel Org√¢nico" />
              <h4>Mel Org√¢nico</h4>
              <p class="descricao" id="desc-mel">Mel puro e natural.</p>
              <p class="preco">R$ 30,00</p>
              <button class="btn-add" data-id="5" data-nome="Mel Org√¢nico" data-preco="30.00" tabindex="0">Adicionar</button>
            </div>
          </div>
        </div>
        <!-- Categoria 4: Verduras -->
        <div class="categoria" tabindex="0" aria-label="Categoria Verduras">
          <h3>Verduras</h3>
          <div class="produtos">
            <div class="produto" tabindex="0" aria-describedby="desc-alface">
              <img src="img/alface.jpg" alt="Alface Crespa" />
              <h4>Alface Crespa</h4>
              <p class="descricao" id="desc-alface">Alface fresquinha para sua salada.</p>
              <p class="preco">R$ 3,00</p>
              <button class="btn-add" data-id="6" data-nome="Alface Crespa" data-preco="3.00" tabindex="0">Adicionar</button>
            </div>
            <div class="produto" tabindex="0" aria-describedby="desc-couve">
              <img src="img/couve.jpg" alt="Couve Manteiga" />
              <h4>Couve Manteiga</h4>
              <p class="descricao" id="desc-couve">Couve fresca e saborosa.</p>
              <p class="preco">R$ 3,50</p>
              <button class="btn-add" data-id="7" data-nome="Couve Manteiga" data-preco="3.50" tabindex="0">Adicionar</button>
            </div>
          </div>
        </div>
        <!-- Categoria 5: Gr√£os -->
        <div class="categoria" tabindex="0" aria-label="Categoria Gr√£os">
          <h3>Gr√£os</h3>
          <div class="produtos">
            <div class="produto" tabindex="0" aria-describedby="desc-feijao">
              <img src="img/feijao.jpg" alt="Feij√£o Carioca" />
              <h4>Feij√£o Carioca</h4>
              <p class="descricao" id="desc-feijao">Feij√£o selecionado e limpo.</p>
              <p class="preco">R$ 7,00</p>
              <button class="btn-add" data-id="8" data-nome="Feij√£o Carioca" data-preco="7.00" tabindex="0">Adicionar</button>
            </div>
            <div class="produto" tabindex="0" aria-describedby="desc-arroz">
              <img src="img/arroz.jpg" alt="Arroz Integral" />
              <h4>Arroz Integral</h4>
              <p class="descricao" id="desc-arroz">Arroz nutritivo e saud√°vel.</p>
              <p class="preco">R$ 6,00</p>
              <button class="btn-add" data-id="9" data-nome="Arroz Integral" data-preco="6.00" tabindex="0">Adicionar</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Carrinho -->
    <aside id="carrinho" aria-label="Carrinho de compras" tabindex="0">
      <h2>Seu Carrinho</h2>
      <ul id="lista-carrinho" aria-live="polite" aria-relevant="additions removals">
        <li>O carrinho est√° vazio.</li>
      </ul>
      <div id="total">Total: R$ 0,00</div>
      <button id="btn-esvaziar" aria-label="Esvaziar carrinho">Esvaziar Carrinho</button>
      <button id="btn-finalizar" aria-label="Finalizar compra">Finalizar Compra</button>
    </aside>

    <!-- Quiz -->
    <section id="quiz" aria-label="Quiz interativo sobre agricultura">
      <
