<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Esta√ß√£o da Terra</title>
  <link rel="stylesheet" href="style.css" />
  <!-- VLibras -->
  <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
</head>
<body>
  <div vw class="enabled">
    <div vw-access-button class="active"></div>
    <div vw-plugin-wrapper>
      <div class="vw-plugin-top-wrapper"></div>
    </div>
  </div>

  <header>
    <h1>Esta√ß√£o da Terra</h1>
    <nav class="menu-navegacao">
      <button id="btn-loja">Loja</button>
      <button id="btn-contato">Contato</button>
      <button id="btn-sobre">Sobre</button>
      <button id="btn-carrinho">Carrinho</button>
      <button id="btn-quiz">Quiz</button>
      <button id="botao-acessibilidade">Acessibilidade</button>
    </nav>
  </header>

  <div id="menu-acessibilidade" style="display: none;">
    <button id="btn-aumentar-fonte">A+</button>
    <button id="btn-modo-escuro">üåô</button>
  </div>

  <section id="loja" tabindex="0" aria-label="Se√ß√£o de loja">
    <div class="produtos">
      <div class="produto">
        <img src="img/tomate.jpg" alt="Tomate org√¢nico" />
        <h3>Tomate</h3>
        <p>R$ 5,00</p>
        <button class="btn-add" data-nome="Tomate" data-preco="5.00">Adicionar</button>
      </div>
      <div class="produto">
        <img src="img/leite.jpg" alt="Leite integral" />
        <h3>Leite</h3>
        <p>R$ 4,50</p>
        <button class="btn-add" data-nome="Leite" data-preco="4.50">Adicionar</button>
      </div>
      <!-- Adicione mais produtos aqui -->
    </div>
  </section>

  <section id="contato" style="display: none;">
    <h2>Contato</h2>
    <form id="form-contato">
      <label for="nome">Nome:</label>
      <input type="text" id="nome" name="nome" required />
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" required />
      <label for="mensagem">Mensagem:</label>
      <textarea id="mensagem" name="mensagem" required></textarea>
      <button type="submit">Enviar</button>
    </form>
    <div id="resposta-contato"></div>
  </section>

  <section id="sobre" style="display: none;">
    <h2>Sobre</h2>
    <p>Marketplace sustent√°vel e interativo: do campo √† cidade, colhendo oportunidades.</p>
  </section>

  <section id="quiz" style="display: none;">
    <h2>Quiz</h2>
    <p>10 perguntas sobre agricultura vir√£o aqui...</p>
  </section>

  <section id="carrinho" style="display: none;">
    <h2>Seu Carrinho</h2>
    <ul id="lista-carrinho"></ul>
    <p id="total-carrinho">Total: R$ 0,00</p>
    <button id="btn-esvaziar-carrinho">Esvaziar Carrinho</button>
    <button id="btn-finalizar-compra">Finalizar Compra</button>
  </section>

  <footer>
    <p>¬© 2025 Esta√ß√£o da Terra - Todos os direitos reservados</p>
  </footer>

  <script>
    new window.VLibras.Widget();

    function esconderTodasSe√ß√µes() {
      document.querySelectorAll('section').forEach(s => s.style.display = 'none');
    }

    document.getElementById('btn-loja').onclick = () => {
      esconderTodasSe√ß√µes(); document.getElementById('loja').style.display = 'block';
    };
    document.getElementById('btn-contato').onclick = () => {
      esconderTodasSe√ß√µes(); document.getElementById('contato').style.display = 'block';
    };
    document.getElementById('btn-sobre').onclick = () => {
      esconderTodasSe√ß√µes(); document.getElementById('sobre').style.display = 'block';
    };
    document.getElementById('btn-carrinho').onclick = () => {
      esconderTodasSe√ß√µes(); document.getElementById('carrinho').style.display = 'block';
      atualizarCarrinho();
    };
    document.getElementById('btn-quiz').onclick = () => {
      esconderTodasSe√ß√µes(); document.getElementById('quiz').style.display = 'block';
    };

    document.getElementById('botao-acessibilidade').onclick = () => {
      const menu = document.getElementById('menu-acessibilidade');
      menu.style.display = menu.style.display === 'none' ? 'block' : 'none';
    };

    document.getElementById('btn-aumentar-fonte').onclick = () => {
      const fontSize = parseFloat(getComputedStyle(document.body).fontSize);
      document.body.style.fontSize = (fontSize + 2) + 'px';
    };

    document.getElementById('btn-modo-escuro').onclick = () => {
      document.body.classList.toggle('modo-escuro');
    };

    const listaCarrinho = document.getElementById('lista-carrinho');
    const totalCarrinho = document.getElementById('total-carrinho');
    let carrinhoItens = [];

    document.querySelectorAll('.btn-add').forEach(btn => {
      btn.onclick = () => {
        const nome = btn.dataset.nome;
        const preco = parseFloat(btn.dataset.preco);
        const existente = carrinhoItens.find(p => p.nome === nome);
        if (existente) {
          existente.quantidade++;
        } else {
          carrinhoItens.push({ nome, preco, quantidade: 1 });
        }
        atualizarCarrinho();
        alert(`${nome} adicionado ao carrinho!`);
      };
    });

    function atualizarCarrinho() {
      listaCarrinho.innerHTML = '';
      let total = 0;
      carrinhoItens.forEach((item, i) => {
        const li = document.createElement('li');
        li.textContent = `${item.nome} - R$ ${item.preco.toFixed(2)} x ${item.quantidade}`;
        const btnRemover = document.createElement('button');
        btnRemover.textContent = 'Remover';
        btnRemover.onclick = () => {
          item.quantidade--;
          if (item.quantidade === 0) carrinhoItens.splice(i, 1);
          atualizarCarrinho();
        };
        li.appendChild(btnRemover);
        listaCarrinho.appendChild(li);
        total += item.preco * item.quantidade;
      });
      totalCarrinho.textContent = `Total: R$ ${total.toFixed(2)}`;
    }

    document.getElementById('btn-esvaziar-carrinho').onclick = () => {
      carrinhoItens = [];
      atualizarCarrinho();
    };

    document.getElementById('btn-finalizar-compra').onclick = () => {
      if (carrinhoItens.length === 0) {
        alert('Seu carrinho est√° vazio!');
        return;
      }
      window.location.href = 'pagamento.html';
    };

    document.getElementById('form-contato').addEventListener('submit', e => {
      e.preventDefault();
      document.getElementById('resposta-contato').textContent = 'Mensagem enviada com sucesso!';
      e.target.reset();
    });

    esconderTodasSe√ß√µes();
    document.getElementById('loja').style.display = 'block';
  </script>
</body>
</html>
