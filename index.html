<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Estação da Terra</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="header" role="banner">
    <div class="logo" tabindex="0">Estação da Terra</div>
    <nav class="nav" role="navigation" aria-label="Menu principal">
      <a href="#" class="nav-link active" tabindex="0">Loja</a>
      <a href="#" class="nav-link" tabindex="0">Sobre</a>
      <a href="#" class="nav-link" tabindex="0">Contato</a>
    </nav>
  </header>

  <!-- Botões de acessibilidade -->
  <div class="acessibilidade-container" aria-label="Controles de acessibilidade">
    <button class="acessibilidade-btn" id="btn-aumentar-fonte" aria-label="Aumentar tamanho da fonte">A+</button>
    <button class="acessibilidade-btn" id="btn-diminuir-fonte" aria-label="Diminuir tamanho da fonte">A-</button>
  </div>

  <main class="main-content" role="main">
    <section class="loja-section" aria-label="Produtos disponíveis">
      <div class="produtos-grid" id="produtos-grid">
        <!-- Produtos gerados via JS -->
      </div>

      <aside class="carrinho" aria-label="Carrinho de compras" role="complementary">
        <h3 tabindex="0">Carrinho</h3>
        <ul id="lista-carrinho" aria-live="polite" aria-relevant="additions removals"></ul>
        <div id="total-carrinho" tabindex="0">Total: R$ 0,00</div>
        <button id="btn-finalizar" disabled aria-disabled="true" aria-label="Finalizar compra">Finalizar Compra</button>
        <button id="btn-esvaziar" aria-label="Esvaziar carrinho">Esvaziar Carrinho</button>
      </aside>
    </section>
  </main>

  <footer class="footer" role="contentinfo">
    <div class="footer-info">
      <p>Estação da Terra - Rua das Palmeiras, 123 - Bairro Verde, Cidade Sustentável</p>
      <p>Contato: (00) 1234-5678 | email@estacaodaterra.com.br</p>
      <p>© 2025 Estação da Terra. Todos os direitos reservados.</p>
    </div>
  </footer>

<script>
  // Dados de exemplo dos produtos
  const produtos = [
    { id: 1, nome: 'Leite Fresco', preco: 4.50, imagem: 'https://i.imgur.com/NXScS1N.png' },
    { id: 2, nome: 'Maçã Orgânica', preco: 2.30, imagem: 'https://i.imgur.com/J1y7rCJ.png' },
    { id: 3, nome: 'Mel Puro', preco: 15.00, imagem: 'https://i.imgur.com/0bWwhmR.png' },
    { id: 4, nome: 'Queijo Minas', preco: 25.00, imagem: 'https://i.imgur.com/7S7XidL.png' },
    { id: 5, nome: 'Alface Crespa', preco: 3.50, imagem: 'https://i.imgur.com/BKyC4KN.png' },
    { id: 6, nome: 'Arroz Integral', preco: 10.00, imagem: 'https://i.imgur.com/pRdlTcI.png' },
    { id: 7, nome: 'Banana Nanica', preco: 1.80, imagem: 'https://i.imgur.com/U1W2iCH.png' },
    { id: 8, nome: 'Tomate Italiano', preco: 4.00, imagem: 'https://i.imgur.com/NJ2SzqF.png' },
    { id: 9, nome: 'Feijão Preto', preco: 7.00, imagem: 'https://i.imgur.com/9CJ2X5q.png' },
    { id: 10, nome: 'Cenoura Orgânica', preco: 3.20, imagem: 'https://i.imgur.com/1iGqO4M.png' }
  ];

  const produtosGrid = document.getElementById('produtos-grid');
  const listaCarrinho = document.getElementById('lista-carrinho');
  const totalCarrinho = document.getElementById('total-carrinho');
  const btnFinalizar = document.getElementById('btn-finalizar');
  const btnEsvaziar = document.getElementById('btn-esvaziar');

  let carrinho = [];

  // Formata preço para moeda BRL
  function formatarPreco(preco) {
    return preco.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });
  }

  // Renderiza produtos na loja
  function renderizarProdutos() {
    produtosGrid.innerHTML = '';
    produtos.forEach(produto => {
      const card = document.createElement('article');
      card.className = 'produto-card';
      card.setAttribute('tabindex', '0');
      card.innerHTML = `
        <img src="${produto.imagem}" alt="Imagem de ${produto.nome}" />
        <h3>${produto.nome}</h3>
        <div class="preco">${formatarPreco(produto.preco)}</div>
        <button class="btn-adicionar" aria-label="Adicionar ${produto.nome} ao carrinho" data-id="${produto.id}">Adicionar</button>
      `;
      produtosGrid.appendChild(card);
    });
  }

  // Atualiza a visualização do carrinho
  function atualizarCarrinho() {
    listaCarrinho.innerHTML = '';
    if(carrinho.length === 0) {
      listaCarrinho.innerHTML = '<li tabindex="0">Carrinho vazio</li>';
      totalCarrinho.textContent = 'Total: R$ 0,00';
      btnFinalizar.disabled = true;
      btnFinalizar.setAttribute('aria-disabled', 'true');
      return;
    }

    let total = 0;
    carrinho.forEach(item => {
      const li = document.createElement('li');
      li.textContent = `${item.nome} — ${formatarPreco(item.preco)} x ${item.quantidade}`;
      li.setAttribute('tabindex', '0');
      listaCarrinho.appendChild(li);
      total += item.preco * item.quantidade;
    });

    totalCarrinho.textContent = `Total: ${formatarPreco(total)}`;
    btnFinalizar.disabled = false;
    btnFinalizar.setAttribute('aria-disabled', 'false');
  }

  // Adiciona produto ao carrinho
  function adicionarAoCarrinho(id) {
    const produto = produtos.find(p => p.id === id);
    if (!produto) return;

    const itemNoCarrinho = carrinho.find(item => item.id === id);
    if (itemNoCarrinho) {
      itemNoCarrinho.quantidade++;
    } else {
      carrinho.push({ ...produto, quantidade: 1 });
    }

    atualizarCarrinho();
  }

  // Esvazia o carrinho
  function esvaziarCarrinho() {
    carrinho = [];
    atualizarCarrinho();
  }

  // Eventos
  produtosGrid.addEventListener('click', e => {
    if(e.target.classList.contains('btn-adicionar')) {
      const id = Number(e.target.dataset.id);
      adicionarAoCarrinho(id);
    }
  });

  btnFinalizar.addEventListener('click', () => {
    // Aqui você poderia salvar o carrinho no localStorage se quiser passar os dados para a página de pagamento.
    // Simplesmente redireciona para a página pagamento.html
    window.location.href = 'pagamento.html';
  });

  btnEsvaziar.addEventListener('click', () => {
    esvaziarCarrinho();
  });

  // Acessibilidade - Controle de tamanho da fonte
  const btnAumentar = document.getElementById('btn-aumentar-fonte');
  const btnDiminuir = document.getElementById('btn-diminuir-fonte');
  let fontSize = 16;

  btnAumentar.addEventListener('click', () => {
    if (fontSize < 24) {
      fontSize += 2;
      document.body.style.fontSize = fontSize + 'px';
    }
  });

  btnDiminuir.addEventListener('click', () => {
    if (fontSize > 12) {
      fontSize -= 2;
      document.body.style.fontSize = fontSize + 'px';
    }
  });

  // Inicializa a página
  renderizarProdutos();
  atualizarCarrinho();
</script>
</body>
</html>
