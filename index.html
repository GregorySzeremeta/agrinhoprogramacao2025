<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Esta√ß√£o da Terra</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>Esta√ß√£o da Terra</h1>
    <nav>
      <ul>
        <li><button id="btn-loja" class="nav-btn active">Loja</button></li>
        <li><button id="btn-sobre" class="nav-btn">Sobre</button></li>
        <li><button id="btn-contato" class="nav-btn">Contato</button></li>
        <li><button id="btn-libras" aria-pressed="false" aria-label="Ativar tradu√ß√£o LIBRAS">üëê LIBRAS</button></li>
        <li><button id="btn-contraste" aria-pressed="false" aria-label="Alternar contraste">üåì Contraste</button></li>
        <li><button id="btn-font" aria-pressed="false" aria-label="Aumentar fonte">A+</button></li>
      </ul>
    </nav>
  </header>

  <main>
    <!-- Se√ß√£o loja -->
    <section id="loja" class="secao ativa">
      <p class="intro">Do campo √† cidade, colhendo oportunidades.</p>
      <div class="feira-grid">
        <article class="barraca" tabindex="0" aria-label="Categoria Leite e Derivados">
          <img src="https://images.unsplash.com/photo-1576161653463-d48569be1f40?auto=format&fit=crop&w=400&q=80" alt="Leite e derivados" />
          <h2>Leite e Derivados</h2>
          <button class="btn-ver-produtos" data-categoria="leite">Ver Produtos</button>
        </article>

        <article class="barraca" tabindex="0" aria-label="Categoria Frutas">
          <img src="https://images.unsplash.com/photo-1501004318641-b39e6451bec6?auto=format&fit=crop&w=400&q=80" alt="Frutas frescas" />
          <h2>Frutas</h2>
          <button class="btn-ver-produtos" data-categoria="frutas">Ver Produtos</button>
        </article>

        <article class="barraca" tabindex="0" aria-label="Categoria Mel">
          <img src="https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=400&q=80" alt="Mel natural" />
          <h2>Mel</h2>
          <button class="btn-ver-produtos" data-categoria="mel">Ver Produtos</button>
        </article>

        <article class="barraca" tabindex="0" aria-label="Categoria Queijo e Derivados">
          <img src="https://images.unsplash.com/photo-1601050690475-152382e59331?auto=format&fit=crop&w=400&q=80" alt="Queijos" />
          <h2>Queijo e Derivados</h2>
          <button class="btn-ver-produtos" data-categoria="queijo">Ver Produtos</button>
        </article>

        <article class="barraca" tabindex="0" aria-label="Categoria Verduras">
          <img src="https://images.unsplash.com/photo-1501004318641-b39e6451bec6?auto=format&fit=crop&w=400&q=80" alt="Verduras frescas" />
          <h2>Verduras</h2>
          <button class="btn-ver-produtos" data-categoria="verduras">Ver Produtos</button>
        </article>

        <article class="barraca" tabindex="0" aria-label="Categoria Gr√£os">
          <img src="https://images.unsplash.com/photo-1500534623283-312aade485b7?auto=format&fit=crop&w=400&q=80" alt="Gr√£os variados" />
          <h2>Gr√£os</h2>
          <button class="btn-ver-produtos" data-categoria="graos">Ver Produtos</button>
        </article>

        <article class="barraca" tabindex="0" aria-label="Categoria Plante">
          <img src="https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=400&q=80" alt="Sementes para plantar" />
          <h2>Plante</h2>
          <button class="btn-ver-produtos" data-categoria="plante">Ver Produtos</button>
        </article>
      </div>

      <!-- Produtos e carrinho -->
      <section id="produtos-container" aria-live="polite" aria-label="Produtos dispon√≠veis" hidden>
        <h3>Produtos</h3>
        <ul id="lista-produtos" class="lista-produtos"></ul>
        <button id="btn-fechar-produtos" aria-label="Fechar lista de produtos">Fechar</button>
      </section>

      <section id="carrinho-container" aria-label="Carrinho de compras">
        <h3>Carrinho</h3>
        <ul id="lista-carrinho" class="lista-carrinho"></ul>
        <p id="total-carrinho">Total: R$ 0,00</p>
        <button id="btn-esvaziar-carrinho">Esvaziar Carrinho</button>
        <button id="btn-finalizar-compra">Finalizar Compra</button>
      </section>
    </section>

    <!-- Se√ß√£o Sobre -->
    <section id="sobre" class="secao" hidden>
      <h2>Sobre a Esta√ß√£o da Terra</h2>
      <p>
        A Esta√ß√£o da Terra √© uma feira virtual que conecta produtores locais com consumidores urbanos, promovendo sustentabilidade, com√©rcio justo e o incentivo √† agricultura familiar.
      </p>
      <p>
        Nosso objetivo √© levar o frescor e a qualidade dos produtos diretamente do campo para sua casa, com facilidade e seguran√ßa.
      </p>
    </section>

    <!-- Se√ß√£o Contato -->
    <section id="contato" class="secao" hidden>
      <h2>Contato</h2>
      <form id="form-contato" aria-label="Formul√°rio de contato">
        <label for="nome">Nome:</label>
        <input type="text" id="nome" name="nome" required />

        <label for="email">E-mail:</label>
        <input type="email" id="email" name="email" required />

        <label for="mensagem">Mensagem:</label>
        <textarea id="mensagem" name="mensagem" rows="4" required></textarea>

        <button type="submit">Enviar</button>
      </form>
      <div id="resposta-contato" aria-live="polite"></div>
    </section>

    <!-- Se√ß√£o Quiz -->
    <section id="quiz" class="secao" hidden aria-label="Quiz interativo">
      <h2>Quiz da Esta√ß√£o da Terra</h2>
      <div id="quiz-container">
        <div id="pergunta-container"></div>
        <ul id="opcoes-container"></ul>
        <button id="btn-proxima" disabled>Pr√≥xima</button>
      </div>
      <p id="resultado-quiz" hidden></p>
    </section>
  </main>

  <footer>
    <p>¬© 2025 Esta√ß√£o da Terra - Do campo √† cidade, colhendo oportunidades.</p>
  </footer>

  <script>
    // Dados produtos por categoria
    const produtos = {
      leite: [
        { id: 1, nome: "Leite Integral 1L", preco: 5.9 },
        { id: 2, nome: "Queijo Minas", preco: 15.0 },
        { id: 3, nome: "Iogurte Natural", preco: 6.5 },
      ],
      frutas: [
        { id: 4, nome: "Ma√ß√£", preco: 3.5 },
        { id: 5, nome: "Banana", preco: 2.8 },
        { id: 6, nome: "Laranja", preco: 3.2 },
      ],
      mel: [
        { id: 7, nome: "Mel Puro 500g", preco: 20.0 },
        { id: 8, nome: "Mel Silvestre 300g", preco: 18.5 },
      ],
      queijo: [
        { id: 9, nome: "Queijo Prato", preco: 17.0 },
        { id: 10, nome: "Requeij√£o", preco: 7.5 },
      ],
      verduras: [
        { id: 11, nome: "Alface", preco: 2.5 },
        { id: 12, nome: "Couve", preco: 3.0 },
        { id: 13, nome: "Espinafre", preco: 3.5 },
      ],
      graos: [
        { id: 14, nome: "Arroz Integral 1kg", preco: 10.0 },
        { id: 15, nome: "Feij√£o Preto 1kg", preco: 12.0 },
        { id: 16, nome: "Milho Verde", preco: 5.0 },
      ],
      plante: [
        { id: 17, nome: "Sementes de Girassol", preco: 4.0 },
        { id: 18, nome: "Sementes de Manjeric√£o", preco: 3.5 },
      ],
    };

    // Vari√°veis para elementos
    const btnsCategorias = document.querySelectorAll(".btn-ver-produtos");
    const produtosContainer = document.getElementById("produtos-container");
    const listaProdutos = document.getElementById("lista-produtos");
    const btnFecharProdutos = document.getElementById("btn-fechar-produtos");
    const listaCarrinho = document.getElementById("lista-carrinho");
    const totalCarrinho = document.getElementById("total-carrinho");
    const btnEsvaziarCarrinho = document.getElementById("btn-esvaziar-carrinho");
    const btnFinalizarCompra = document.getElementById("btn-finalizar-compra");

    // Navega√ß√£o entre se√ß√µes
    const btnLoja = document.getElementById("btn-loja");
    const btnSobre = document.getElementById("btn-sobre");
    const btnContato = document.getElementById("btn-contato");
    const secoes = document.querySelectorAll("main > section.secao");

    btnLoja.addEventListener("click", () => mostrarSecao("loja"));
    btnSobre.addEventListener("click", () => mostrarSecao("sobre"));
    btnContato.addEventListener("click", () => mostrarSecao("contato"));

    function mostrarSecao(secaoId) {
      secoes.forEach((secao) => {
        if (secao.id === secaoId) {
          secao.hidden = false;
          secao.classList.add("ativa");
        } else {
          secao.hidden = true;
          secao.classList.remove("ativa");
        }
      });
      btnLoja.classList.toggle("active", secaoId === "loja");
      btnSobre.classList.toggle("active", secaoId === "sobre");
      btnContato.classList.toggle("active", secaoId === "contato");
      // Esconder quiz e produtos ao trocar se√ß√£o
      quizSection.hidden = true;
      produtosContainer.hidden = true;
    }

    // Mostrar produtos da categoria selecionada
    btnsCategorias.forEach((btn) => {
      btn.addEventListener("click", () => {
        const categoria = btn.getAttribute("data-categoria");
        mostrarProdutos(categoria);
      });
    });

    function mostrarProdutos(categoria) {
      listaProdutos.innerHTML = "";
      produtos[categoria].forEach((produto) => {
        const li = document.createElement("li");
        li.textContent = `${produto.nome} - R$ ${produto.preco.toFixed(2)}`;
        li.tabIndex = 0;
        li.setAttribute("data-id", produto.id);
        li.classList.add("produto-item");
        li.addEventListener("click", () => adicionarAoCarrinho(produto));
        listaProdutos.appendChild(li);
      });
      produtosContainer.hidden = false;
      produtosContainer.focus();
    }

    btnFecharProdutos.addEventListener("click", () => {
      produtosContainer.hidden = true;
    });

    // Carrinho
    let carrinho = [];

    function atualizarCarrinho() {
      listaCarrinho.innerHTML = "";
      let total = 0;
      carrinho.forEach((item) => {
        const li = document.createElement("li");
        li.textContent = `${item.nome} - R$ ${item.preco.toFixed(2)}`;
        listaCarrinho.appendChild(li);
        total += item.preco;
      });
      totalCarrinho.textContent = `Total: R$ ${total.toFixed(2)}`;
    }

    function adicionarAoCarrinho(produto) {
      carrinho.push(produto);
      atualizarCarrinho();
      alert(`Produto "${produto.nome}" adicionado ao carrinho!`);
    }

    btnEsvaziarCarrinho.addEventListener("click", () => {
      if (carrinho.length === 0) {
        alert("Carrinho j√° est√° vazio!");
        return;
      }
      if (confirm("Deseja esvaziar o carrinho?")) {
        carrinho = [];
        atualizarCarrinho();
      }
    });

    btnFinalizarCompra.addEventListener("click", () => {
      if (carrinho.length === 0) {
        alert("Carrinho vazio! Adicione produtos antes de finalizar.");
        return;
      }
      alert(
        `Compra finalizada com sucesso! Total: R$ ${carrinho
          .reduce((acc, p) => acc + p.preco, 0)
          .toFixed(2)}`
      );
      carrinho = [];
      atualizarCarrinho();
    });

    // Formul√°rio contato
    const formContato = document.getElementById("form-contato");
    const respostaContato = document.getElementById("resposta-contato");
    formContato.addEventListener("submit", (e) => {
      e.preventDefault();
      respostaContato.textContent = "Mensagem enviada com sucesso. Obrigado!";
      formContato.reset();
    });

    // Acessibilidade: contraste, fonte e LIBRAS
    const btnContraste = document.getElementById("btn-contraste");
    const btnFont = document.getElementById("btn-font");
    const btnLibras = document.getElementById("btn-libras");

    btnContraste.addEventListener("click", () => {
      document.body.classList.toggle("contraste");
      const pressed = btnContraste.getAttribute("aria-pressed") === "true";
      btnContraste.setAttribute("aria-pressed", String(!pressed));
    });

    btnFont.addEventListener("click", () => {
      document.body.classList.toggle("fonte-grande");
      const pressed = btnFont.getAttribute("aria-pressed") === "true";
      btnFont.setAttribute("aria-pressed", String(!pressed));
    });

    btnLibras.addEventListener("click", () => {
      const pressed = btnLibras.getAttribute("aria-pressed") === "true";
      btnLibras.setAttribute("aria-pressed", String(!pressed));
      if (!pressed) {
        alert(
          "Tradu√ß√£o em LIBRAS ativada! (Simula√ß√£o - substitua por v√≠deo ou plugin real)"
        );
      } else {
        alert("Tradu√ß√£o em LIBRAS desativada.");
      }
    });

    // Quiz interativo (anima√ß√£o simples e funcional)
    const quizData = [
      {
        pergunta: "Qual alimento √© rico em prote√≠nas?",
        opcoes: ["Ma√ß√£", "Feij√£o", "Mel"],
        correta: 1,
      },
      {
        pergunta: "Qual item √© produzido por abelhas?",
        opcoes: ["Queijo", "Mel", "Arroz"],
        correta: 1,
      },
      {
        pergunta: "Qual destes √© um gr√£o?",
        opcoes: ["Alface", "Milho", "Laranja"],
        correta: 1,
      },
    ];

    const quizSection = document.getElementById("quiz");
    const perguntaContainer = document.getElementById("pergunta-container");
    const opcoesContainer = document.getElementById("opcoes-container");
    const btnProxima = document.getElementById("btn-proxima");
    const resultadoQuiz = document.getElementById("resultado-quiz");

    let indicePergunta = 0;
    let pontos = 0;
    let quizAtivo = false;

    function iniciarQuiz() {
      quizSection.hidden = false;
      mostrarPergunta();
      btnProxima.disabled = true;
      resultadoQuiz.hidden = true;
      pontos = 0;
      indicePergunta = 0;
      quizAtivo = true;
    }

    function mostrarPergunta() {
      const item = quizData[indicePergunta];
      perguntaContainer.textContent = item.pergunta;
      opcoesContainer.innerHTML = "";
      item.opcoes.forEach((opcao, i) => {
        const li = document.createElement("li");
        const btn = document.createElement("button");
        btn.textContent = opcao;
        btn.setAttribute("type", "button");
        btn.addEventListener("click", () => selecionarOpcao(i));
        li.appendChild(btn);
        opcoesContainer.appendChild(li);
      });
    }

    function selecionarOpcao(i) {
      const item = quizData[indicePergunta];
      btnProxima.disabled = false;
      if (i === item.correta) {
        pontos++;
      }
      // Desabilitar op√ß√µes para n√£o mudar resposta
      [...opcoesContainer.querySelectorAll("button")].forEach((btn) =>
        btn.setAttribute("disabled", true)
      );
    }

    btnProxima.addEventListener("click", () => {
      indicePergunta++;
      if (indicePergunta < quizData.length) {
        mostrarPergunta();
        btnProxima.disabled = true;
      } else {
        mostrarResultado();
      }
    });

    function mostrarResultado() {
      quizAtivo = false;
      perguntaContainer.textContent = "";
      opcoesContainer.innerHTML = "";
      resultadoQuiz.hidden = false;
      resultadoQuiz.textContent = `Voc√™ acertou ${pontos} de ${quizData.length} perguntas! Obrigado por participar!`;
      btnProxima.disabled = true;
    }

    // Por padr√£o abrir na loja
    mostrarSecao("loja");
  </script>
</body>
</html>
