<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Esta√ß√£o da Terra - Loja</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>Esta√ß√£o da Terra</h1>
    <p class="slogan">Do campo √† cidade, colhendo oportunidades</p>
  </header>

  <main id="main-content">
    <!-- Loja -->
    <section id="loja" class="active-section">
      <div class="produtos-container">

        <article class="produto" data-id="1">
          <img src="https://i.imgur.com/gZx5cJj.jpg" alt="Mel" />
          <h2>Mel Natural</h2>
          <p>Mel puro e natural, direto da colmeia.</p>
          <p class="preco">R$ 25,00</p>
          <button class="btn-add" data-id="1">Adicionar ao carrinho</button>
        </article>

        <article class="produto" data-id="2">
          <img src="https://i.imgur.com/klGvEYj.jpg" alt="Queijo" />
          <h2>Queijo Artesanal</h2>
          <p>Queijo fresco feito artesanalmente.</p>
          <p class="preco">R$ 40,00</p>
          <button class="btn-add" data-id="2">Adicionar ao carrinho</button>
        </article>

        <article class="produto" data-id="3">
          <img src="https://i.imgur.com/BTaXYlQ.jpg" alt="Frutas" />
          <h2>Frutas Org√¢nicas</h2>
          <p>Frutas frescas e cultivadas sem agrot√≥xicos.</p>
          <p class="preco">R$ 15,00</p>
          <button class="btn-add" data-id="3">Adicionar ao carrinho</button>
        </article>

        <article class="produto" data-id="4">
          <img src="https://i.imgur.com/h6NXQbE.jpg" alt="Leite" />
          <h2>Leite Fresco</h2>
          <p>Leite direto da fazenda, com qualidade garantida.</p>
          <p class="preco">R$ 8,00</p>
          <button class="btn-add" data-id="4">Adicionar ao carrinho</button>
        </article>

        <article class="produto" data-id="5">
          <img src="https://i.imgur.com/7aYfn1M.jpg" alt="Gr√£os" />
          <h2>Gr√£os Selecionados</h2>
          <p>Gr√£os variados para sua alimenta√ß√£o saud√°vel.</p>
          <p class="preco">R$ 12,00</p>
          <button class="btn-add" data-id="5">Adicionar ao carrinho</button>
        </article>

        <article class="produto" data-id="6">
          <img src="https://i.imgur.com/fPMyYHx.jpg" alt="Verduras" />
          <h2>Verduras Frescas</h2>
          <p>Verduras selecionadas, direto do campo para voc√™.</p>
          <p class="preco">R$ 10,00</p>
          <button class="btn-add" data-id="6">Adicionar ao carrinho</button>
        </article>

      </div>

      <aside id="carrinho">
        <h3>Carrinho</h3>
        <ul id="lista-carrinho"></ul>
        <p id="total">Total: R$ 0,00</p>
        <button id="btn-finalizar" disabled>Finalizar Compra</button>
      </aside>
    </section>

    <!-- √Årea de Pagamento -->
    <section id="pagamento" class="hidden-section">
      <h2>Finalizar Compra</h2>
      <form id="form-pagamento">
        <fieldset>
          <legend>Informa√ß√µes de Pagamento</legend>
          <label for="nome">Nome Completo:</label>
          <input type="text" id="nome" name="nome" required />

          <label for="endereco">Endere√ßo:</label>
          <textarea id="endereco" name="endereco" rows="3" required></textarea>

          <label for="pagamento-tipo">Forma de Pagamento:</label>
          <select id="pagamento-tipo" name="pagamento-tipo" required>
            <option value="" disabled selected>Selecione</option>
            <option value="cartao">Cart√£o de Cr√©dito</option>
            <option value="boleto">Boleto Banc√°rio</option>
            <option value="pix">PIX</option>
          </select>
        </fieldset>

        <button type="submit" id="btn-confirmar">Confirmar Pedido</button>
        <button type="button" id="btn-voltar">Voltar para Loja</button>
      </form>
    </section>

    <!-- Mensagem de sucesso -->
    <section id="sucesso" class="hidden-section">
      <h2>Pedido realizado com sucesso!</h2>
      <p>Obrigado por comprar na Esta√ß√£o da Terra üå±</p>
      <button id="btn-voltar-loja">Voltar para Loja</button>
    </section>
  </main>

  <footer>
    <p>¬© 2025 Esta√ß√£o da Terra. Todos os direitos reservados.</p>
  </footer>

  <script>
    const produtos = [
      { id: 1, nome: "Mel Natural", preco: 25 },
      { id: 2, nome: "Queijo Artesanal", preco: 40 },
      { id: 3, nome: "Frutas Org√¢nicas", preco: 15 },
      { id: 4, nome: "Leite Fresco", preco: 8 },
      { id: 5, nome: "Gr√£os Selecionados", preco: 12 },
      { id: 6, nome: "Verduras Frescas", preco: 10 },
    ];

    const carrinho = [];

    // Elementos
    const listaCarrinho = document.getElementById("lista-carrinho");
    const totalEl = document.getElementById("total");
    const btnFinalizar = document.getElementById("btn-finalizar");

    const secLoja = document.getElementById("loja");
    const secPagamento = document.getElementById("pagamento");
    const secSucesso = document.getElementById("sucesso");

    const formPagamento = document.getElementById("form-pagamento");
    const btnVoltar = document.getElementById("btn-voltar");
    const btnVoltarLoja = document.getElementById("btn-voltar-loja");

    // Fun√ß√£o para formatar pre√ßo
    function formatarPreco(valor) {
      return valor.toLocaleString("pt-BR", {
        style: "currency",
        currency: "BRL",
      });
    }

    // Atualizar carrinho na UI
    function atualizarCarrinho() {
      listaCarrinho.innerHTML = "";
      let total = 0;

      carrinho.forEach((item) => {
        const prod = produtos.find((p) => p.id === item.id);
        total += prod.preco * item.quantidade;

        const li = document.createElement("li");
        li.textContent = `${prod.nome} x ${item.quantidade} - ${formatarPreco(
          prod.preco * item.quantidade
        )}`;
        listaCarrinho.appendChild(li);
      });

      totalEl.textContent = `Total: ${formatarPreco(total)}`;

      btnFinalizar.disabled = total === 0;
    }

    // Adicionar produto no carrinho
    document.querySelectorAll(".btn-add").forEach((btn) => {
      btn.addEventListener("click", () => {
        const id = Number(btn.dataset.id);
        const item = carrinho.find((c) => c.id === id);

        if (item) {
          item.quantidade++;
        } else {
          carrinho.push({ id, quantidade: 1 });
        }

        atualizarCarrinho();
      });
    });

    // Mostrar a √°rea de pagamento
    btnFinalizar.addEventListener("click", () => {
      secLoja.classList.remove("active-section");
      secLoja.classList.add("hidden-section");
      secPagamento.classList.remove("hidden-section");
      secPagamento.classList.add("active-section");
      window.scrollTo(0, 0);
    });

    // Voltar para loja
    btnVoltar.addEventListener("click", () => {
      secPagamento.classList.remove("active-section");
      secPagamento.classList.add("hidden-section");
      secLoja.classList.remove("hidden-section");
      secLoja.classList.add("active-section");
    });

    btnVoltarLoja.addEventListener("click", () => {
      secSucesso.classList.remove("active-section");
      secSucesso.classList.add("hidden-section");
      secLoja.classList.remove("hidden-section");
      secLoja.classList.add("active-section");
      carrinho.length = 0; // limpa carrinho
      atualizarCarrinho();
    });

    // Confirmar pedido
    formPagamento.addEventListener("submit", (e) => {
      e.preventDefault();

      alert("Pedido confirmado! Obrigado por comprar na Esta√ß√£o da Terra üå±");

      secPagamento.classList.remove("active-section");
      secPagamento.classList.add("hidden-section");

      secSucesso.classList.remove("hidden-section");
      secSucesso.classList.add("active-section");

      window.scrollTo(0, 0);
    });

    // Inicializa carrinho vazio
    atualizarCarrinho();
  </script>
</body>
</html>
