<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EstaÃ§Ã£o da Terra</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- VLibras -->
  <div vw class="enabled">
    <div vw-access-button class="active"></div>
    <div vw-plugin-wrapper>
      <div class="vw-plugin-top-wrapper"></div>
    </div>
  </div>
  <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
  <script>
    new window.VLibras.Widget('https://vlibras.gov.br/app');
  </script>

  <!-- CabeÃ§alho / Menu -->
  <header>
    <h1>EstaÃ§Ã£o da Terra</h1>
    <nav class="menu-navegacao">
      <a href="#" id="btn-loja" class="menu-btn">Loja</a>
      <a href="#" id="btn-contato" class="menu-btn">Contato</a>
      <a href="#" id="btn-sobre" class="menu-btn">Sobre</a>
      <a href="#" id="btn-carrinho" class="menu-btn">Carrinho</a>
      <a href="quiz.html" id="quiz" class="menu-btn">Quiz</a>
      <button id="botao-acessibilidade" class="menu-btn">Acessibilidade</button>
    </nav>
  </header>

  <!-- BotÃ£o Carrinho Fixo -->
  <button id="btn-carrinho-fixo" aria-label="Abrir carrinho">
    ðŸ›’ <span id="badge-carrinho">0</span>
  </button>

  <!-- Menu Acessibilidade -->
  <div id="menu-acessibilidade" style="display:none;">
    <button id="btn-aumentar-fonte">A+</button>
    <button id="btn-modo-escuro">ðŸŒ™</button>
  </div>

  <!-- SeÃ§Ãµes -->
  <section id="loja" style="display:grid;">
    <!-- Produtos aparecerÃ£o via JS -->
  </section>

  <section id="contato" style="display:none;">
    <h2>Contato</h2>
    <form id="form-contato">
      <label for="nome">Nome:</label>
      <input type="text" id="nome" name="nome" required>
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" required>
      <label for="mensagem">Mensagem:</label>
      <textarea id="mensagem" name="mensagem" required></textarea>
      <button type="submit">Enviar</button>
    </form>
    <div id="resposta-contato"></div>
  </section>

  <section id="sobre" style="display:none;">
    <h2>Sobre NÃ³s</h2>
    <p>Bem-vindo Ã  EstaÃ§Ã£o da Terra! Vendemos alimentos naturais e orgÃ¢nicos.</p>
  </section>

  <section id="carrinho" style="display:none;">
    <h2>Seu Carrinho</h2>
    <ul id="lista-carrinho"></ul>
    <p id="total-carrinho">Total: R$ 0,00</p>
    <button id="btn-esvaziar-carrinho">Esvaziar Carrinho</button>
    <button id="btn-finalizar-compra">Finalizar Compra</button>
  </section>

  <footer>
    <p>Â© 2025 EstaÃ§Ã£o da Terra - Todos os direitos reservados.</p>
  </footer>

  <script>
    // Acessibilidade
    document.getElementById('botao-acessibilidade').onclick = () => {
      const menu = document.getElementById('menu-acessibilidade');
      menu.style.display = (menu.style.display === 'none') ? 'block' : 'none';
    };

    document.getElementById('btn-aumentar-fonte').onclick = () => {
      let size = parseFloat(window.getComputedStyle(document.body).fontSize);
      document.body.style.fontSize = (size + 2) + 'px';
    };

    document.getElementById('btn-modo-escuro').onclick = () => {
      document.body.classList.toggle('modo-escuro');
    };

    // NavegaÃ§Ã£o
    function esconderTodas() {
      document.getElementById('loja').style.display = 'none';
      document.getElementById('contato').style.display = 'none';
      document.getElementById('sobre').style.display = 'none';
      document.getElementById('carrinho').style.display = 'none';
    }

    document.getElementById('btn-loja').onclick = () => {
      esconderTodas();
      document.getElementById('loja').style.display = 'grid';
    };

    document.getElementById('btn-contato').onclick = () => {
      esconderTodas();
      document.getElementById('contato').style.display = 'block';
    };

    document.getElementById('btn-sobre').onclick = () => {
      esconderTodas();
      document.getElementById('sobre').style.display = 'block';
    };

    document.getElementById('btn-carrinho').onclick = () => {
      esconderTodas();
      document.getElementById('carrinho').style.display = 'block';
      atualizarCarrinho();
    };

    document.getElementById('btn-carrinho-fixo').onclick = () => {
      esconderTodas();
      document.getElementById('carrinho').style.display = 'block';
      atualizarCarrinho();
    };

    // Produtos Loja
    const produtos = [
      { nome: 'MaÃ§Ã£ OrgÃ¢nica', preco: 4.50, img: 'img/maca.jpg' },
      { nome: 'Mel Puro', preco: 15.00, img: 'img/mel.jpg' },
      { nome: 'Queijo Minas', preco: 20.00, img: 'img/queijo.jpg' }
    ];

    const loja = document.getElementById('loja');
    produtos.forEach(p => {
      const div = document.createElement('div');
      div.className = 'produto';
      div.innerHTML = `
        <img src="${p.img}" alt="${p.nome}">
        <h3>${p.nome}</h3>
        <p>R$ ${p.preco.toFixed(2)}</p>
        <button class="btn-add" data-nome="${p.nome}" data-preco="${p.preco}">Adicionar ao Carrinho</button>
      `;
      loja.appendChild(div);
    });

    // Carrinho
    let carrinhoItens = [];
    const badge = document.getElementById('badge-carrinho');

    loja.addEventListener('click', e => {
      if (e.target.classList.contains('btn-add')) {
        const nome = e.target.getAttribute('data-nome');
        const preco = parseFloat(e.target.getAttribute('data-preco'));
        const item = carrinhoItens.find(i => i.nome === nome);
        if (item) {
          item.quantidade++;
        } else {
          carrinhoItens.push({ nome, preco, quantidade: 1 });
        }
        atualizarCarrinho();
        alert(nome + ' adicionado ao carrinho!');
      }
    });

    function atualizarCarrinho() {
      const lista = document.getElementById('lista-carrinho');
      lista.innerHTML = '';
      let total = 0;
      carrinhoItens.forEach((item, index) => {
        total += item.preco * item.quantidade;
        const li = document.createElement('li');
        li.innerHTML = `
          ${item.nome} - R$ ${item.preco.toFixed(2)} x ${item.quantidade}
          <button onclick="removerItem(${index})">Remover</button>
        `;
        lista.appendChild(li);
      });
      document.getElementById('total-carrinho').textContent = 'Total: R$ ' + total.toFixed(2);
      badge.textContent = carrinhoItens.reduce((acc, i) => acc + i.quantidade, 0);
    }

    function removerItem(index) {
      carrinhoItens[index].quantidade--;
      if (carrinhoItens[index].quantidade === 0) {
        carrinhoItens.splice(index, 1);
      }
      atualizarCarrinho();
    }

    document.getElementById('btn-esvaziar-carrinho').onclick = () => {
      carrinhoItens = [];
      atualizarCarrinho();
    };

    document.getElementById('btn-finalizar-compra').onclick = () => {
      window.location.href = 'pagamento.html';
    };

    // Contato
    document.getElementById('form-contato').addEventListener('submit', e => {
      e.preventDefault();
      document.getElementById('resposta-contato').textContent = 'Mensagem enviada com sucesso!';
      e.target.reset();
    });
  </script>

</body>
</html>
