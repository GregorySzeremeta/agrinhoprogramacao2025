<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Esta√ß√£o da Terra - Feira Sustent√°vel</title>
<link rel="stylesheet" href="style.css" />
<style>
  /* Placeholder para estilo m√≠nimo (vai completar no CSS) */
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0;
    background: #f5f9f3;
    color: #222;
  }
</style>
</head>
<body>
<header>
  <h1>Esta√ß√£o da Terra</h1>
  <p class="slogan">Do campo √† cidade, colhendo oportunidades</p>
  <nav>
    <button id="btnAumentarFonte" aria-label="Aumentar fonte">A+</button>
    <button id="btnDiminuirFonte" aria-label="Diminuir fonte">A-</button>
    <button id="btnContraste" aria-label="Alternar alto contraste">üåì</button>
    <button id="btnLibras" aria-label="Ativar LIBRAS">ü§ü</button>
  </nav>
</header>

<main>

  <!-- Se√ß√£o de produtos -->
  <section id="feira" aria-label="Produtos da feira">
    <article class="produto" data-categoria="frutas" tabindex="0">
      <img src="https://images.unsplash.com/photo-1574226516831-e1dff420e8f8?auto=format&fit=crop&w=200&q=80" alt="Ma√ß√£ vermelha" />
      <h3>Ma√ß√£</h3>
      <p>R$ 4,50 / kg</p>
      <button class="btnAdicionar" aria-label="Adicionar ma√ß√£ ao carrinho">Adicionar</button>
    </article>
    <article class="produto" data-categoria="verduras" tabindex="0">
      <img src="https://images.unsplash.com/photo-1501004318641-b39e6451bec6?auto=format&fit=crop&w=200&q=80" alt="Alface fresca" />
      <h3>Alface</h3>
      <p>R$ 2,00 / unidade</p>
      <button class="btnAdicionar" aria-label="Adicionar alface ao carrinho">Adicionar</button>
    </article>
    <article class="produto" data-categoria="laticinios" tabindex="0">
      <img src="https://images.unsplash.com/photo-1585222515068-7201a72c4181?auto=format&fit=crop&w=200&q=80" alt="Leite fresco" />
      <h3>Leite Integral</h3>
      <p>R$ 3,80 / litro</p>
      <button class="btnAdicionar" aria-label="Adicionar leite ao carrinho">Adicionar</button>
    </article>
    <article class="produto" data-categoria="mel" tabindex="0">
      <img src="https://images.unsplash.com/photo-1524594157361-97b1ec78809e?auto=format&fit=crop&w=200&q=80" alt="Pote de mel" />
      <h3>Mel Natural</h3>
      <p>R$ 15,00 / 500g</p>
      <button class="btnAdicionar" aria-label="Adicionar mel ao carrinho">Adicionar</button>
    </article>
    <article class="produto" data-categoria="graos" tabindex="0">
      <img src="https://images.unsplash.com/photo-1567306226416-28f0efdc88ce?auto=format&fit=crop&w=200&q=80" alt="Feij√£o" />
      <h3>Feij√£o Preto</h3>
      <p>R$ 7,50 / kg</p>
      <button class="btnAdicionar" aria-label="Adicionar feij√£o ao carrinho">Adicionar</button>
    </article>
    <!-- Adicione mais produtos aqui seguindo o padr√£o acima -->
  </section>

  <!-- Quiz -->
  <section id="quiz" aria-label="Quiz interativo" tabindex="0">
    <h2>Teste seus conhecimentos</h2>
    <form id="quizForm" aria-live="polite">
      <fieldset>
        <legend>1. Qual alimento √© fonte de prote√≠nas?</legend>
        <label><input type="radio" name="q1" value="a" /> Ma√ß√£</label><br />
        <label><input type="radio" name="q1" value="b" /> Feij√£o</label><br />
        <label><input type="radio" name="q1" value="c" /> Alface</label>
      </fieldset>
      <fieldset>
        <legend>2. Qual √© um produto de origem animal?</legend>
        <label><input type="radio" name="q2" value="a" /> Mel</label><br />
        <label><input type="radio" name="q2" value="b" /> Leite</label><br />
        <label><input type="radio" name="q2" value="c" /> Feij√£o</label>
      </fieldset>
      <button type="submit" aria-label="Enviar respostas do quiz">Enviar Respostas</button>
    </form>
    <div id="resultadoQuiz" role="alert" aria-live="assertive"></div>
  </section>

  <!-- Anima√ß√£o plantar √°rvore -->
  <section id="animacaoArvore" aria-label="Anima√ß√£o de plantar √°rvore" tabindex="0">
    <h2>Plante uma √°rvore virtual</h2>
    <button id="btnPlantar">Plantar √°rvore</button>
    <div id="arvoreContainer" aria-live="polite"></div>
  </section>

</main>

<!-- Carrinho de compras fixo -->
<aside id="carrinho" aria-label="Carrinho de compras" aria-live="polite" aria-atomic="true">
  <button id="toggleCarrinho" aria-expanded="false" aria-controls="conteudoCarrinho" aria-label="Abrir carrinho">
    üõí <span id="contadorCarrinho">0</span>
  </button>
  <div id="conteudoCarrinho" hidden>
    <h2>Seu Carrinho</h2>
    <ul id="listaCarrinho"></ul>
    <p id="totalCarrinho">Total: R$ 0,00</p>
    <button id="btnEsvaziarCarrinho" aria-label="Esvaziar carrinho">Esvaziar</button>
    <button id="btnFinalizarCompra" aria-label="Finalizar compra">Finalizar Compra</button>
  </div>
</aside>

<footer>
  <p>¬© 2025 Esta√ß√£o da Terra. Todos os direitos reservados.</p>
  <nav aria-label="Redes sociais">
    <a href="#" aria-label="Facebook">Facebook</a> |
    <a href="#" aria-label="Instagram">Instagram</a> |
    <a href="#" aria-label="WhatsApp">WhatsApp</a>
  </nav>
</footer>

<script>
  // Script para aumentar/diminuir fonte
  const btnAumentar = document.getElementById('btnAumentarFonte');
  const btnDiminuir = document.getElementById('btnDiminuirFonte');
  const btnContraste = document.getElementById('btnContraste');
  const btnLibras = document.getElementById('btnLibras');
  let fonteAtual = 100; // %
  btnAumentar.onclick = () => {
    if(fonteAtual < 150) {
      fonteAtual += 10;
      document.body.style.fontSize = fonteAtual + '%';
    }
  }
  btnDiminuir.onclick = () => {
    if(fonteAtual > 70) {
      fonteAtual -= 10;
      document.body.style.fontSize = fonteAtual + '%';
    }
  }

  // Contraste alto
  btnContraste.onclick = () => {
    document.body.classList.toggle('contraste-alto');
  }

  // LIBRAS (simulada - mostra um bal√£o explicando)
  btnLibras.onclick = () => {
    alert('Simula√ß√£o: Em breve LIBRAS funcional!');
  }

  // Quiz
  const quizForm = document.getElementById('quizForm');
  const resultadoQuiz = document.getElementById('resultadoQuiz');

  quizForm.addEventListener('submit', (e) => {
    e.preventDefault();
    let pontos = 0;
    if(quizForm.q1.value === 'b') pontos++;
    if(quizForm.q2.value === 'b') pontos++;

    resultadoQuiz.textContent = `Voc√™ acertou ${pontos} de 2 perguntas.`;
  });

  // Carrinho de compras
  const btnAdicionar = document.querySelectorAll('.btnAdicionar');
  const carrinho = [];
  const listaCarrinho = document.getElementById('listaCarrinho');
  const totalCarrinho = document.getElementById('totalCarrinho');
  const contadorCarrinho = document.getElementById('contadorCarrinho');
  const toggleCarrinho = document.getElementById('toggleCarrinho');
  const conteudoCarrinho = document.getElementById('conteudoCarrinho');
  const btnEsvaziarCarrinho = document.getElementById('btnEsvaziarCarrinho');
  const btnFinalizarCompra = document.getElementById('btnFinalizarCompra');

  function atualizarCarrinho() {
    listaCarrinho.innerHTML = '';
    let total = 0;
    carrinho.forEach((item, index) => {
      const li = document.createElement('li');
      li.textContent = `${item.nome} - R$ ${item.preco.toFixed(2)}`;
      // Bot√£o remover
      const btnRemover = document.createElement('button');
      btnRemover.textContent = 'Remover';
      btnRemover.setAttribute('aria-label', `Remover ${item.nome} do carrinho`);
      btnRemover.onclick = () => {
        carrinho.splice(index, 1);
        atualizarCarrinho();
      }
      li.appendChild(btnRemover);
      listaCarrinho.appendChild(li);
      total += item.preco;
    });
    totalCarrinho.textContent = `Total: R$ ${total.toFixed(2)}`;
    contadorCarrinho.textContent = carrinho.length;
  }

  btnAdicionar.forEach(btn => {
    btn.onclick = (e) => {
      const produto = e.target.closest('.produto');
      const nome = produto.querySelector('h3').textContent;
      const precoText = produto.querySelector('p').textContent;
      const preco = parseFloat(precoText.replace(/[^\d,\.]/g, '').replace(',', '.'));
      carrinho.push({nome, preco});
      atualizarCarrinho();
    }
  });

  toggleCarrinho.onclick = () => {
    const aberto = toggleCarrinho.getAttribute('aria-expanded') === 'true';
    toggleCarrinho.setAttribute('aria-expanded', !aberto);
    if(aberto) {
      conteudoCarrinho.hidden = true;
    } else {
      conteudoCarrinho.hidden = false;
    }
  }

  btnEsvaziarCarrinho.onclick = () => {
    carrinho.length = 0;
    atualizarCarrinho();
  }

  btnFinalizarCompra.onclick = () => {
    if(carrinho.length === 0){
      alert('Seu carrinho est√° vazio!');
      return;
    }
    alert('Compra finalizada com sucesso! Obrigado pela prefer√™ncia.');
    carrinho.length = 0;
    atualizarCarrinho();
  }

  // Anima√ß√£o plantar √°rvore
  const btnPlantar = document.getElementById('btnPlantar');
  const arvoreContainer = document.getElementById('arvoreContainer');

  btnPlantar.onclick = () => {
    arvoreContainer.innerHTML = '';
    let altura = 0;
    let tronco = document.createElement('div');
    tronco.className = 'tronco';
    arvoreContainer.appendChild(tronco);

    let interval = setInterval(() => {
      altura += 10;
      tronco.style.height = altura + 'px';

      if(altura >= 100){
        clearInterval(interval);
        let folhas = document.createElement('div');
        folhas.className = 'folhas';
        arvoreContainer.appendChild(folhas);
      }
    }, 100);
  }

</script>
</body>
</html>
