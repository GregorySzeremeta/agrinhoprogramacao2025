<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EstaÃ§Ã£o da Terra</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/@meedan/react-transcript-plugin/dist/react-transcript-plugin.min.js"></script>
</head>
<body>
  <header>
    <h1>EstaÃ§Ã£o da Terra</h1>
    <p class="slogan">Do campo Ã  cidade, colhendo oportunidades</p>
    <nav>
      <button onclick="mostrarPagina('produtos')">Loja</button>
      <button onclick="mostrarPagina('quiz')">Quiz</button>
      <button onclick="mostrarPagina('contato')">Contato</button>
      <button onclick="toggleSomAmbiente()">Som do Campo</button>
      <div id="cart-icon" onclick="mostrarCarrinho()">
        ðŸ›’<span id="cart-count">0</span>
      </div>
    </nav>
  </header>

  <main>
    <section id="produtos" class="pagina">
      <div class="grid-produtos" id="lista-produtos">
        <!-- Produtos sÃ£o gerados por JavaScript -->
      </div>
    </section>

    <section id="quiz" class="pagina" style="display:none">
      <h2>Quiz: ProduÃ§Ã£o do Campo</h2>
      <form id="quiz-form">
        <!-- QuestÃµes do quiz inseridas via JavaScript -->
      </form>
      <div id="resultado"></div>
    </section>

    <section id="contato" class="pagina" style="display:none">
      <h2>Entre em Contato</h2>
      <form>
        <label for="nome">Nome:</label>
        <input type="text" id="nome">

        <label for="email">Email:</label>
        <input type="email" id="email">

        <label for="mensagem">Mensagem:</label>
        <textarea id="mensagem"></textarea>

        <button type="submit">Enviar</button>
      </form>
    </section>

    <section id="carrinho" class="pagina" style="display:none">
      <h2>Carrinho de Compras</h2>
      <ul id="carrinho-lista"></ul>
      <p class="total" id="total">Total: R$ 0,00</p>
      <button onclick="finalizarCompra()">Finalizar Compra</button>
    </section>

    <div id="confete-container"></div>
  </main>

  <!-- LIBRAS -->
  <div vw class="enabled">
    <div vw-access-button class="active"></div>
    <div vw-plugin-wrapper>
      <div class="vw-plugin-top-wrapper"></div>
    </div>
  </div>
  <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
  <script>
    new window.VLibras.Widget('https://vlibras.gov.br/app');
  </script>

  <audio id="som-ambiente" loop>
    <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
  </audio>

  <script>
    const produtos = [
      { nome: "Mel OrgÃ¢nico", preco: 25, imagem: "https://via.placeholder.com/200?text=Mel" },
      { nome: "Queijo Artesanal", preco: 40, imagem: "https://via.placeholder.com/200?text=Queijo" },
      { nome: "Leite Integral", preco: 6, imagem: "https://via.placeholder.com/200?text=Leite" },
      { nome: "Alface HidropÃ´nica", preco: 4, imagem: "https://via.placeholder.com/200?text=Alface" },
      { nome: "Tomate OrgÃ¢nico", preco: 8, imagem: "https://via.placeholder.com/200?text=Tomate" },
      { nome: "Morango Fresco", preco: 10, imagem: "https://via.placeholder.com/200?text=Morango" },
      { nome: "Ovos Caipira", preco: 12, imagem: "https://via.placeholder.com/200?text=Ovos" },
      { nome: "Arroz Integral", preco: 18, imagem: "https://via.placeholder.com/200?text=Arroz" },
      { nome: "FeijÃ£o Preto", preco: 14, imagem: "https://via.placeholder.com/200?text=Feijao" },
      { nome: "Batata Doce", preco: 5, imagem: "https://via.placeholder.com/200?text=Batata" },
      // ... mais 20 produtos fictÃ­cios
    ];

    const perguntasQuiz = [
      {
        pergunta: "Qual Ã© o melhor horÃ¡rio para colher alface?",
        opcoes: ["ManhÃ£", "Tarde", "Meia-noite"],
        correta: 0
      },
      {
        pergunta: "Qual Ã© o tempo mÃ©dio de produÃ§Ã£o de mel?",
        opcoes: ["2 dias", "1 mÃªs", "6 meses"],
        correta: 2
      },
      // ... +5 perguntas
    ];

    const carrinho = [];
    const listaProdutos = document.getElementById('lista-produtos');

    produtos.forEach((produto, index) => {
      const div = document.createElement('div');
      div.className = 'produto';
      div.innerHTML = `
        <img src="${produto.imagem}" alt="${produto.nome}">
        <h3>${produto.nome}</h3>
        <p>R$ ${produto.preco.toFixed(2)}</p>
        <button onclick="adicionarAoCarrinho(${index})">Adicionar ao carrinho</button>
      `;
      listaProdutos.appendChild(div);
    });

    function adicionarAoCarrinho(index) {
      carrinho.push(produtos[index]);
      document.getElementById('cart-count').innerText = carrinho.length;
    }

    function mostrarCarrinho() {
      document.querySelectorAll('.pagina').forEach(sec => sec.style.display = 'none');
      document.getElementById('carrinho').style.display = 'block';
      const lista = document.getElementById('carrinho-lista');
      lista.innerHTML = '';
      let total = 0;
      carrinho.forEach(prod => {
        const li = document.createElement('li');
        li.innerText = `${prod.nome} - R$ ${prod.preco.toFixed(2)}`;
        lista.appendChild(li);
        total += prod.preco;
      });
      document.getElementById('total').innerText = `Total: R$ ${total.toFixed(2)}`;
    }

    function finalizarCompra() {
      alert("Compra finalizada com sucesso!");
    }

    function mostrarPagina(id) {
      document.querySelectorAll('.pagina').forEach(sec => sec.style.display = 'none');
      document.getElementById(id).style.display = 'block';
    }

    perguntasQuiz.forEach((q, i) => {
      const div = document.createElement('fieldset');
      div.className = 'quiz-pergunta';
      div.innerHTML = `<legend>${q.pergunta}</legend>` +
        q.opcoes.map((op, j) => `
          <label><input type="radio" name="q${i}" value="${j}"> ${op}</label>
        `).join('');
      document.getElementById('quiz-form').appendChild(div);
    });

    const confeteContainer = document.getElementById('confete-container');

    function soltarConfetes() {
      for (let i = 0; i < 100; i++) {
        const confete = document.createElement('div');
        confete.className = 'confete';
        confete.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 70%)`;
        confete.style.left = `${Math.random() * 100}%`;
        confeteContainer.appendChild(confete);
        setTimeout(() => confete.remove(), 3000);
      }
    }

    document.getElementById('quiz-form').addEventListener('submit', function (e) {
      e.preventDefault();
      let acertos = 0;
      perguntasQuiz.forEach((q, i) => {
        const marcada = document.querySelector(`input[name='q${i}']:checked`);
        if (marcada && Number(marcada.value) === q.correta) {
          acertos++;
        }
      });
      const percentual = Math.round((acertos / perguntasQuiz.length) * 100);
      document.getElementById('resultado').innerText = `VocÃª acertou ${acertos}/${perguntasQuiz.length} perguntas (${percentual}%)!`;
      if (acertos > 0) soltarConfetes();
    });

    function toggleSomAmbiente() {
      const audio = document.getElementById('som-ambiente');
      if (audio.paused) audio.play();
      else audio.pause();
    }
  </script>
</body>
</html>
