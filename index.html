<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Esta√ß√£o da Terra</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&family=Playfair+Display:wght@700&display=swap" rel="stylesheet" />
</head>
<body>

  <!-- Tela de entrada animada -->
  <div id="entrada">Esta√ß√£o da Terra</div>

  <header>
    <h1>Esta√ß√£o da Terra</h1>
    <span class="slogan">Do campo √† cidade, colhendo oportunidades</span>
    <nav class="menu" aria-label="Menu principal">
      <ul>
        <li><a href="#produtos" tabindex="0">Produtos</a></li>
        <li><a href="#animacao" tabindex="0">Import√¢ncia do Campo</a></li>
        <li><a href="#quiz" tabindex="0">Quiz</a></li>
        <li><a href="#sobre" tabindex="0">Sobre</a></li>
        <li><a href="#carrinho" tabindex="0" aria-label="Ir para o carrinho">Carrinho üõí</a></li>
      </ul>
    </nav>
  </header>

  <!-- Bot√µes minimalistas para acessibilidade -->
  <div id="acessibilidade" role="region" aria-label="Controles de acessibilidade">
    <button id="btnLibras" aria-label="Ativar LIBRAS" title="Ativar LIBRAS">üëê</button>
    <button id="btnContraste" aria-label="Alternar alto contraste" title="Alto Contraste">‚öôÔ∏è</button>
    <button id="btnAumentarFonte" aria-label="Aumentar fonte" title="Aumentar Fonte">A+</button>
    <button id="btnDiminuirFonte" aria-label="Diminuir fonte" title="Diminuir Fonte">A-</button>
    <button id="btnSom" aria-label="Tocar/Pausar m√∫sica ambiente" title="M√∫sica Ambiente">üéµ</button>
  </div>

  <!-- M√∫sica ambiente -->
  <audio id="musicaAmbiente" loop>
    <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_8a5f65b10a.mp3?filename=calm-nature-ambient-7062.mp3" type="audio/mp3" />
    Seu navegador n√£o suporta √°udio.
  </audio>

  <main>

    <!-- Se√ß√£o produtos -->
    <section id="produtos" tabindex="-1" aria-label="Lista de produtos da feira">
      <h2>Produtos da Feira</h2>
      <div class="barracas" id="listaProdutos">
        <!-- Produtos ser√£o inseridos via JS -->
      </div>
    </section>

    <!-- Carrinho -->
    <section id="carrinho" tabindex="-1" aria-label="Carrinho de compras">
      <h2>Carrinho üõí</h2>
      <ul id="lista-carrinho" aria-live="polite" aria-relevant="additions removals"></ul>
      <button id="btnEsvaziar" aria-label="Esvaziar carrinho">Esvaziar Carrinho</button>
      <button id="btnFinalizar" aria-label="Finalizar compra">Finalizar Compra</button>
      <p id="msgFinalizar" role="alert" style="margin-top: 1rem; font-weight: 700;"></p>
    </section>

    <!-- Anima√ß√£o da import√¢ncia do campo -->
    <section id="animacao" tabindex="-1" aria-label="Anima√ß√£o falando da import√¢ncia do campo">
      <h2>Por que o Campo √© Importante?</h2>
      <div class="animacao-texto" aria-live="polite" aria-atomic="true">
        <p>O campo √© a fonte da nossa vida, a origem dos alimentos que nutrem nosso corpo e alma.</p>
        <p>√â nele que a natureza se renova e gera oportunidades sustent√°veis para todos.</p>
        <p>Valorizar o campo √© investir no futuro do planeta e das pr√≥ximas gera√ß√µes.</p>
      </div>
    </section>

    <!-- Quiz de sustentabilidade -->
    <section id="quiz" tabindex="-1" aria-label="Quiz sobre sustentabilidade">
      <h2>Teste seus conhecimentos sobre sustentabilidade</h2>
      <form id="formQuiz" aria-describedby="resultadoQuiz">
        <div class="question">
          <p>1. Qual √© a principal fun√ß√£o da agricultura sustent√°vel?</p>
          <label><input type="radio" name="q1" value="errado1" required> Maximizar o uso de agrot√≥xicos</label>
          <label><input type="radio" name="q1" value="correto"> Preservar o meio ambiente e a produtividade</label>
          <label><input type="radio" name="q1" value="errado2"> Plantar apenas produtos importados</label>
        </div>
        <div class="question">
          <p>2. Qual pr√°tica ajuda a conservar o solo?</p>
          <label><input type="radio" name="q2" value="correto" required> Rota√ß√£o de culturas</label>
          <label><input type="radio" name="q2" value="errado1"> Desmatamento</label>
          <label><input type="radio" name="q2" value="errado2"> Uso excessivo de fertilizantes qu√≠micos</label>
        </div>
        <div class="question">
          <p>3. O que significa agricultura org√¢nica?</p>
          <label><input type="radio" name="q3" value="correto" required> Produ√ß√£o sem agrot√≥xicos e qu√≠micos sint√©ticos</label>
          <label><input type="radio" name="q3" value="errado1"> Uso intensivo de m√°quinas pesadas</label>
          <label><input type="radio" name="q3" value="errado2"> Plantar apenas soja</label>
        </div>
        <button type="submit" aria-label="Enviar respostas do quiz">Enviar Respostas</button>
      </form>
      <div id="resultadoQuiz" class="resultado-container" aria-live="polite"></div>
    </section>

    <!-- Sobre -->
    <section id="sobre" tabindex="-1" aria-label="Informa√ß√µes sobre o projeto Esta√ß√£o da Terra">
      <h2>Sobre o Projeto</h2>
      <p>
        O projeto Esta√ß√£o da Terra nasce com o objetivo de conectar o campo √† cidade, promovendo
        a sustentabilidade, valoriza√ß√£o dos pequenos produtores e o consumo consciente.
        Com uma feira virtual interativa, trazemos o melhor da agricultura familiar para sua casa,
        com qualidade, respeito ao meio ambiente e inova√ß√£o.
      </p>
    </section>

  </main>

  <footer>
    &copy; 2025 Esta√ß√£o da Terra. Todos os direitos reservados.
  </footer>

  <script>
    // Produto modelo
    const produtos = [
      {id: 1, nome: "Leite Fresco", preco: 6.50, img: "https://i.imgur.com/1gk0ILy.jpg", descricao: "Leite integral fresco e natural."},
      {id: 2, nome: "Ma√ß√£ Org√¢nica", preco: 4.20, img: "https://i.imgur.com/k1yLRyQ.jpg", descricao: "Ma√ß√£s cultivadas sem agrot√≥xicos."},
      {id: 3, nome: "Mel Puro", preco: 15.00, img: "https://i.imgur.com/q6ZY92h.jpg", descricao: "Mel direto da colmeia, sem aditivos."},
      {id: 4, nome: "Queijo Artesanal", preco: 22.50, img: "https://i.imgur.com/nN5K7K6.jpg", descricao: "Queijo fresco feito de forma artesanal."},
      {id: 5, nome: "Alface Crespa", preco: 3.00, img: "https://i.imgur.com/dGcZp9J.jpg", descricao: "Alface crocante e fresca da horta."},
      {id: 6, nome: "Feij√£o Carioca", preco: 7.80, img: "https://i.imgur.com/z4m5frT.jpg", descricao: "Feij√£o de qualidade e sabor caseiro."},
      {id: 7, nome: "Tomate Italiano", preco: 5.50, img: "https://i.imgur.com/ikS5H55.jpg", descricao: "Tomates saborosos e suculentos."},
      {id: 8, nome: "Arroz Integral", preco: 8.40, img: "https://i.imgur.com/Hosb0yF.jpg", descricao: "Arroz integral, fonte de fibras."},
      {id: 9, nome: "Cenoura Org√¢nica", preco: 4.50, img: "https://i.imgur.com/Dm5qOgU.jpg", descricao: "Cenoura saud√°vel e saborosa."},
      {id: 10, nome: "Abacate Maduro", preco: 9.90, img: "https://i.imgur.com/4SPP1xn.jpg", descricao: "Abacate cremoso para suas receitas."},
      {id: 11, nome: "P√£o Integral", preco: 6.00, img: "https://i.imgur.com/0JGmhPo.jpg", descricao: "P√£o feito com farinha integral."},
      {id: 12, nome: "Mela√ßo Natural", preco: 12.00, img: "https://i.imgur.com/7HJPpkx.jpg", descricao: "Ado√ßante natural e nutritivo."},
      {id: 13, nome: "Batata Doce", preco: 5.80, img: "https://i.imgur.com/9JzE5ey.jpg", descricao: "Batata doce org√¢nica."},
      {id: 14, nome: "Ch√° de Ervas", preco: 10.00, img: "https://i.imgur.com/Nmm9qJu.jpg", descricao: "Ch√° feito com ervas frescas."},
      {id: 15, nome: "Couve Manteiga", preco: 3.50, img: "https://i.imgur.com/8VWmUk3.jpg", descricao: "Couve fresca para suas receitas."},
      {id: 16, nome: "Melancia", preco: 7.20, img: "https://i.imgur.com/Tl6Cn6V.jpg", descricao: "Melancia doce e refrescante."},
      {id: 17, nome: "Morango Org√¢nico", preco: 11.00, img: "https://i.imgur.com/fFqJqNK.jpg", descricao: "Morango fresco e natural."},
      {id: 18, nome: "Ovos Caipiras", preco: 8.00, img: "https://i.imgur.com/pOx5Fgl.jpg", descricao: "Ovos frescos de galinhas criadas soltas."},
      {id: 19, nome: "Cebola Roxa", preco: 4.00, img: "https://i.imgur.com/0H43aZP.jpg", descricao: "Cebola roxa fresca."},
      {id: 20, nome: "Mel de Eucalipto", preco: 16.50, img: "https://i.imgur.com/jTGAV4F.jpg", descricao: "Mel sabor √∫nico de eucalipto."}
    ];

    const listaProdutos = document.getElementById('listaProdutos');
    const listaCarrinho = document.getElementById('lista-carrinho');
    const btnEsvaziar = document.getElementById('btnEsvaziar');
    const btnFinalizar = document.getElementById('btnFinalizar');
    const msgFinalizar = document.getElementById('msgFinalizar');

    // Renderizar produtos
    function renderProdutos() {
      listaProdutos.innerHTML = '';
      produtos.forEach(prod => {
        const card = document.createElement('article');
        card.className = 'produto-card';
        card.setAttribute('tabindex', '0');
        card.innerHTML = `
          <img src="${prod.img}" alt="Imagem de ${prod.nome}" />
          <h3>${prod.nome}</h3>
          <p>${prod.descricao}</p>
          <p class="preco">R$ ${prod.preco.toFixed(2)}</p>
          <button aria-label="Adicionar ${prod.nome} ao carrinho" data-id="${prod.id}">Adicionar</button>
        `;
        listaProdutos.appendChild(card);
      });
    }

    // Estado do carrinho
    let carrinho = [];

    // Adicionar produto no carrinho
    function adicionarAoCarrinho(id) {
      const prod = produtos.find(p => p.id === id);
      if (!prod) return;
      const itemNoCarrinho = carrinho.find(i => i.id === id);
      if (itemNoCarrinho) {
        itemNoCarrinho.quantidade++;
      } else {
        carrinho.push({...prod, quantidade: 1});
      }
      renderCarrinho();
    }

    // Renderizar carrinho
    function renderCarrinho() {
      listaCarrinho.innerHTML = '';
      if (carrinho.length === 0) {
        listaCarrinho.innerHTML = '<li>Seu carrinho est√° vazio.</li>';
        return;
      }
      carrinho.forEach(item => {
        const li = document.createElement('li');
        li.textContent = `${item.nome} x${item.quantidade} - R$ ${(item.preco * item.quantidade).toFixed(2)}`;
        listaCarrinho.appendChild(li);
      });
    }

    // Esvaziar carrinho
    btnEsvaziar.addEventListener('click', () => {
      carrinho = [];
      renderCarrinho();
      msgFinalizar.textContent = '';
    });

    // Finalizar compra
    btnFinalizar.addEventListener('click', () => {
      if (carrinho.length === 0) {
        msgFinalizar.textContent = 'Seu carrinho est√° vazio. Adicione produtos para finalizar.';
        return;
      }
      // Simular finaliza√ß√£o
      msgFinalizar.textContent = 'Compra finalizada com sucesso! Obrigado por apoiar o campo.';
      carrinho = [];
      renderCarrinho();
    });

    // Eventos para adicionar produtos
    listaProdutos.addEventListener('click', (e) => {
      if (e.target.tagName === 'BUTTON') {
        const id = Number(e.target.getAttribute('data-id'));
        adicionarAoCarrinho(id);
      }
    });

    // Controle acessibilidade
    const btnContraste = document.getElementById('btnContraste');
    const btnAumentarFonte = document.getElementById('btnAumentarFonte');
    const btnDiminuirFonte = document.getElementById('btnDiminuirFonte');
    const btnLibras = document.getElementById('btnLibras');
    const btnSom = document.getElementById('btnSom');
    const musicaAmbiente = document.getElementById('musicaAmbiente');

    btnContraste.addEventListener('click', () => {
      document.body.classList.toggle('alto-contraste');
    });

    btnAumentarFonte.addEventListener('click', () => {
      let tamanho = parseFloat(getComputedStyle(document.documentElement).fontSize);
      if (tamanho < 22) document.documentElement.style.fontSize = (tamanho + 1) + 'px';
    });

    btnDiminuirFonte.addEventListener('click', () => {
      let tamanho = parseFloat(getComputedStyle(document.documentElement).fontSize);
      if (tamanho > 12) document.documentElement.style.fontSize = (tamanho - 1) + 'px';
    });

    btnLibras.addEventListener('click', () => {
      alert('Recurso de LIBRAS ainda n√£o implementado.'); 
      // Pode integrar um plugin externo depois
    });

    btnSom.addEventListener('click', () => {
      if (musicaAmbiente.paused) {
        musicaAmbiente.play();
        btnSom.textContent = 'üîä';
      } else {
        musicaAmbiente.pause();
        btnSom.textContent = 'üéµ';
      }
    });

    // Quiz
    const formQuiz = document.getElementById('formQuiz');
    const resultadoQuiz = document.getElementById('resultadoQuiz');

    formQuiz.addEventListener('submit', e => {
      e.preventDefault();
      let pontos = 0;
      const respostas = new FormData(formQuiz);
      for (const [key, value] of respostas.entries()) {
        if (value === 'correto') pontos++;
      }
      resultadoQuiz.textContent = `Voc√™ acertou ${pontos} de 3 perguntas.`;
    });

    // Anima√ß√£o entrada
    window.onload = () => {
      const entrada = document.getElementById('entrada');
      setTimeout(() => {
        entrada.style.opacity = 0;
        setTimeout(() => entrada.style.display = 'none', 600);
      }, 2000);
      renderProdutos();
      renderCarrinho();
    };
  </script>

</body>
</html>
