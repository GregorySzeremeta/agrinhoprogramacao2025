<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Esta√ß√£o da Terra - Loja</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
  <style>
    #btnTopo {
      position: fixed;
      bottom: 40px;
      right: 40px;
      background-color: #4CAF50;
      color: white;
      border: none;
      padding: 12px 16px;
      border-radius: 50%;
      font-size: 24px;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      display: none;
      z-index: 9999;
      transition: background-color 0.3s;
    }
    #btnTopo:hover {
      background-color: #388E3C;
    }
  </style>
</head>
<body>

  <!-- Painel de Acessibilidade Flutuante -->
  <div id="painel-acessibilidade" aria-label="Painel de Acessibilidade">
    <button onclick="toggleContraste()" aria-label="Alternar contraste">üåó</button>
    <button onclick="aumentarFonte()" aria-label="Aumentar fonte">üî†</button>
    <button onclick="diminuirFonte()" aria-label="Diminuir fonte">üî°</button>
    <button onclick="abrirLIBRAS()" aria-label="Ativar tradu√ß√£o em Libras">üßè‚Äç‚ôÇÔ∏è</button>
  </div>

  <!-- VLibras -->
  <div vw class="enabled">
    <div vw-access-button class="active"></div>
    <div vw-plugin-wrapper>
      <div class="vw-plugin-top-wrapper"></div>
    </div>
  </div>

  <!-- Cabe√ßalho -->
  <header>
    <h1>Esta√ß√£o da Terra</h1>
    <p class="slogan">Do campo √† cidade, colhendo oportunidades</p>
    <nav class="menu">
      <ul>
        <li><a href="quiz.html">Quiz</a></li>
        <li><a href="sobre.html">Sobre</a></li>
      </ul>
    </nav>
  </header>

  <!-- Loja -->
  <main role="main">
    <section id="produtos">
      <h2>Produtos √† Venda</h2>
      <div class="barracas">

        <!-- Produtos -->
        <div class="produto-card">
          <img src="img/ma√ß√£.jpg" alt="Ma√ß√£ Org√¢nica" role="img" aria-label="Imagem do produto Ma√ß√£ Org√¢nica">
          <h3>Ma√ß√£ Org√¢nica</h3>
          <p>R$ 3,00/kg</p>
          <button onclick="adicionarAoCarrinho('Ma√ß√£ Org√¢nica', 3)">Adicionar</button>
        </div>
        <div class="produto-card">
          <img src="img/mel.jpg" alt="Mel Puro" role="img" aria-label="Imagem do produto Mel Puro">
          <h3>Mel Puro</h3>
          <p>R$ 15,00</p>
          <button onclick="adicionarAoCarrinho('Mel Puro', 15)">Adicionar</button>
        </div>
        <div class="produto-card">
          <img src="img/queijo.jpg" alt="Queijo Artesanal" role="img" aria-label="Imagem do produto Queijo Artesanal">
          <h3>Queijo Artesanal</h3>
          <p>R$ 25,00</p>
          <button onclick="adicionarAoCarrinho('Queijo Artesanal', 25)">Adicionar</button>
        </div>
        <!-- ... (repita isso para os demais produtos) -->

        <!-- Exemplo: -->
        <div class="produto-card">
          <img src="img/tomate.jpg" alt="Tomate" role="img" aria-label="Imagem do produto Tomate">
          <h3>Tomate</h3>
          <p>R$ 4,00/kg</p>
          <button onclick="adicionarAoCarrinho('Tomate', 4)">Adicionar</button>
        </div>

        <!-- Continue com os demais produtos... -->
      </div>
    </section>

    <!-- Carrinho -->
    <section id="carrinho">
      <h2>üõí Carrinho de Compras</h2>
      <ul id="lista-carrinho"></ul>
      <button onclick="esvaziarCarrinho()">üóëÔ∏è Esvaziar Carrinho</button>
      <button onclick="finalizarPagamento()">üí≥ Finalizar Pagamento</button>
    </section>
  </main>

  <button id="btnTopo" title="Voltar ao topo" aria-label="Voltar ao topo">‚¨ÜÔ∏è</button>

  <footer>
    <p>&copy; 2025 Esta√ß√£o da Terra. Todos os direitos reservados.</p>
  </footer>

  <script>
    new window.VLibras.Widget('https://vlibras.gov.br/app');

    let carrinho = [];

    function adicionarAoCarrinho(produto, preco) {
      const itemExistente = carrinho.find(item => item.nome === produto);
      if (itemExistente) {
        itemExistente.quantidade++;
      } else {
        carrinho.push({ nome: produto, preco: preco, quantidade: 1 });
      }
      atualizarCarrinho();
    }

    function atualizarCarrinho() {
      const lista = document.getElementById("lista-carrinho");
      lista.innerHTML = "";

      if (carrinho.length === 0) {
        const vazio = document.createElement("li");
        vazio.textContent = "Carrinho vazio.";
        lista.appendChild(vazio);
        return;
      }

      carrinho.forEach(item => {
        const li = document.createElement("li");
        li.textContent = `${item.nome} ‚Äî ${item.quantidade}x ‚Äî R$ ${(item.preco * item.quantidade).toFixed(2)}`;
        lista.appendChild(li);
      });

      const total = carrinho.reduce((acc, item) => acc + item.preco * item.quantidade, 0);
      const liTotal = document.createElement("li");
      liTotal.style.fontWeight = "bold";
      liTotal.style.marginTop = "10px";
      liTotal.textContent = `Total: R$ ${total.toFixed(2)}`;
      lista.appendChild(liTotal);
    }

    function esvaziarCarrinho() {
      carrinho = [];
      atualizarCarrinho();
    }

    function finalizarPagamento() {
      if (carrinho.length === 0) {
        alert("Seu carrinho est√° vazio. Adicione produtos antes de pagar.");
      } else {
        const total = carrinho.reduce((acc, item) => acc + item.preco * item.quantidade, 0);
        alert(`Pagamento de R$ ${total.toFixed(2)} finalizado com sucesso! Obrigado pela compra üòä`);
        carrinho = [];
        atualizarCarrinho();
      }
    }

    function toggleContraste() {
      document.body.classList.toggle("contraste");
    }

    function aumentarFonte() {
      const style = window.getComputedStyle(document.body).fontSize;
      let size = parseFloat(style);
      if (size < 24) {
        document.body.style.fontSize = (size + 2) + "px";
      }
    }

    function diminuirFonte() {
      const style = window.getComputedStyle(document.body).fontSize;
      let size = parseFloat(style);
      if (size > 12) {
        document.body.style.fontSize = (size - 2) + "px";
      }
    }

    function abrirLIBRAS() {
      const botaoVLibras = document.querySelector("div[vw-access-button]");
      if (botaoVLibras) {
        botaoVLibras.click();
      }
    }

    const btnTopo = document.getElementById("btnTopo");

    window.onscroll = function() {
      if (document.documentElement.scrollTop > 150) {
        btnTopo.style.display = "block";
      } else {
        btnTopo.style.display = "none";
      }
    };

    btnTopo.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
    });

    atualizarCarrinho();
  </script>
</body>
</html>
