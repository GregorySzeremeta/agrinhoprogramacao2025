<!-- ========================= HTML + JavaScript ========================= -->
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Esta√ß√£o da Terra</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <nav class="menu">
      <h1>üå± Esta√ß√£o da Terra</h1>
      <ul>
        <li><a href="#mapa-feira">Mapa da Feira</a></li>
        <li><a href="#produtos">Produtos</a></li>
        <li><a href="#quiz">Quiz</a></li>
        <li><a href="#sobre">Sobre</a></li>
      </ul>
    </nav>
    <p class="slogan">Do campo √† cidade, colhendo oportunidades</p>
  </header>

  <main>
    <section id="mapa-feira">
      <h2>Mapa da Feira</h2>
      <div class="barracas">
        <div class="barraca" onclick="mostrarProdutos('vegetais')">
          <img src="vegetais.png" alt="Barraca de Vegetais">
          <p>Vegetais</p>
        </div>
        <div class="barraca" onclick="mostrarProdutos('frutas')">
          <img src="frutas.png" alt="Barraca de Frutas">
          <p>Frutas</p>
        </div>
        <div class="barraca" onclick="mostrarProdutos('graos')">
          <img src="graos.png" alt="Barraca de Gr√£os">
          <p>Gr√£os</p>
        </div>
      </div>
    </section>

    <section id="produtos">
      <h2>Produtos</h2>
      <div id="lista-produtos"></div>
      <div id="carrinho">
        <h3>Carrinho de Compras</h3>
        <ul id="itens-carrinho"></ul>
        <p>Total: R$ <span id="total">0.00</span></p>
      </div>
    </section>

    <section class="quiz-wrapper" id="quiz">
      <div class="quiz-container">
        <h1>QUIZ: Agricultura</h1>

        <div class="question">
          <p>1) Qual √© a principal fun√ß√£o da agricultura?</p>
          <label><input type="radio" name="q1" value="a" />Proteger os animais</label>
          <label><input type="radio" name="q1" value="b" />Produzir alimentos</label>
          <label><input type="radio" name="q1" value="c" />Cuidar das florestas</label>
        </div>

        <div class="question">
          <p>2) O que s√£o agrot√≥xicos?</p>
          <label><input type="radio" name="q2" value="a" />Produtos naturais</label>
          <label><input type="radio" name="q2" value="b" />M√°quinas agr√≠colas</label>
          <label><input type="radio" name="q2" value="c" />Produtos qu√≠micos para pragas</label>
        </div>

        <div class="question">
          <p>3) Qual destas culturas √© um gr√£o?</p>
          <label><input type="radio" name="q3" value="a" />Ma√ß√£</label>
          <label><input type="radio" name="q3" value="b" />Feij√£o</label>
          <label><input type="radio" name="q3" value="c" />Couve</label>
        </div>

        <button onclick="corrigirQuiz()">Enviar</button>
        <div class="resultado-container" id="resultado"></div>
      </div>
    </section>

    <section id="sobre">
      <h2>Sobre o Projeto</h2>
      <p>A Esta√ß√£o da Terra simula uma feira interativa com foco em sustentabilidade, agricultura e acessibilidade. Inspirada na conex√£o entre campo e cidade, o projeto oferece produtos, educa√ß√£o e inclus√£o digital para todos.</p>
    </section>

    <div id="acessibilidade">
      <button onclick="alternarContraste()" aria-label="Contraste">üåì</button>
      <button onclick="aumentarFonte()" aria-label="Aumentar Fonte">A+</button>
      <button onclick="resetarFonte()" aria-label="Fonte Normal">A</button>
      <button onclick="ativarSomAmbiente()" aria-label="Som Ambiente">üéµ</button>
      <button onclick="abrirLibras()" aria-label="Tradutor LIBRAS">üëê</button>
    </div>
  </main>

  <footer>
    <p>&copy; 2025 Esta√ß√£o da Terra. Todos os direitos reservados.</p>
  </footer>

  <script>
    const produtos = {
      vegetais: [
        { nome: "Alface", preco: 2.5, img: "alface.jpg" },
        { nome: "Couve", preco: 3.0, img: "couve.jpg" },
        { nome: "Br√≥colis", preco: 4.2, img: "brocolis.jpg" }
      ],
      frutas: [
        { nome: "Ma√ß√£", preco: 2.0, img: "maca.jpg" },
        { nome: "Banana", preco: 1.5, img: "banana.jpg" },
        { nome: "Uva", preco: 3.5, img: "uva.jpg" }
      ],
      graos: [
        { nome: "Feij√£o", preco: 6.0, img: "feijao.jpg" },
        { nome: "Milho", preco: 5.0, img: "milho.jpg" },
        { nome: "Arroz", preco: 4.5, img: "arroz.jpg" }
      ]
    };

    const gabarito = {
      q1: 'b',
      q2: 'c',
      q3: 'b'
    };

    let total = 0;

    function mostrarProdutos(categoria) {
      const lista = document.getElementById("lista-produtos");
      lista.innerHTML = "";
      produtos[categoria].forEach(prod => {
        const card = document.createElement("div");
        card.className = "produto-card";

        const img = document.createElement("img");
        img.src = prod.img;
        img.alt = prod.nome;

        const nome = document.createElement("p");
        nome.textContent = prod.nome;

        const preco = document.createElement("p");
        preco.textContent = `R$ ${prod.preco.toFixed(2)}`;

        const botao = document.createElement("button");
        botao.textContent = "Adicionar ao Carrinho";
        botao.onclick = () => adicionarAoCarrinho(prod);

        card.append(img, nome, preco, botao);
        lista.appendChild(card);
      });
    }

    function adicionarAoCarrinho(prod) {
      const carrinho = document.getElementById("itens-carrinho");
      const item = document.createElement("li");
      item.textContent = `${prod.nome} - R$ ${prod.preco.toFixed(2)}`;
      carrinho.appendChild(item);
      total += prod.preco;
      document.getElementById("total").textContent = total.toFixed(2);
    }

    function corrigirQuiz() {
      const respostas = document.querySelectorAll("input[type=radio]:checked");
      let acertos = 0;
      respostas.forEach(r => {
        if (gabarito[r.name] === r.value) acertos++;
      });

      const resultado = document.getElementById("resultado");
      resultado.innerHTML = `<h2>Voc√™ acertou ${acertos} quest√£o(√µes)!</h2>`;

      if (acertos === Object.keys(gabarito).length) criarConfetes();
    }

    function criarConfetes() {
      const confettiContainer = document.createElement("div");
      confettiContainer.classList.add("confetti-container");
      document.body.appendChild(confettiContainer);
      for (let i = 0; i < 50; i++) {
        const confetti = document.createElement("div");
        confetti.classList.add("confetti");
        const colors = ['#FFC107', '#FF5722', '#4CAF50', '#03A9F4'];
        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        confetti.style.left = `${Math.random() * 100}%`;
        confettiContainer.appendChild(confetti);
      }
    }

    function alternarContraste() {
      document.body.classList.toggle("contraste");
    }

    function aumentarFonte() {
      document.body.style.fontSize = "1.2em";
    }

    function resetarFonte() {
      document.body.style.fontSize = "1em";
    }

    function ativarSomAmbiente() {
      const audio = new Audio("som-floresta.mp3");
      audio.loop = true;
      audio.play();
    }

    function abrirLibras() {
      const script = document.createElement('script');
      script.src = "https://vlibras.gov.br/app/vlibras-plugin.js";
      document.body.appendChild(script);
      script.onload = () => {
        new window.VLibras.Widget('https://vlibras.gov.br/app');
      };
    }
  </script>
</body>
</html>
