<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Estação da Terra - Feira Virtual</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<body class="entrada-animada">

  <!-- Animação de entrada -->
  <div id="entrada" class="entrada">
    <h1>🌱 Bem-vindo à Estação da Terra 🌍</h1>
  </div>

  <!-- Cabeçalho -->
  <header>
    <h1>Estação da Terra</h1>
    <p class="slogan">Do campo à cidade, colhendo oportunidades</p>

    <!-- Menu Interativo -->
    <nav class="menu">
      <ul>
        <li><a href="sobre.html">Sobre</a></li>
        <li><a href="quiz.html">Quizis</a></li>
        <li><a href="contato.html">Entre em Contato</a></li>
      </ul>
    </nav>
  </header>

  <!-- Acessibilidade -->
  <div id="acessibilidade">
    <button onclick="ativarContraste()" title="Contraste">🌗</button>
    <button onclick="aumentarFonte()" title="Aumentar Fonte">🔠</button>
    <button onclick="ativarVLibras()" title="LIBRAS">🧏‍♂️</button>
  </div>

  <!-- Seções da Feira -->
  <main>
    <section>
      <h2>Feira Virtual</h2>
      <div class="barracas">
        <div class="barraca" onclick="mostrarProdutos('graos')">
          <img src="imagens/graos.jpg" alt="Grãos">
          <h3>Grãos</h3>
        </div>
        <div class="barraca" onclick="mostrarProdutos('verduras')">
          <img src="imagens/verduras.jpg" alt="Verduras">
          <h3>Verduras</h3>
        </div>
        <div class="barraca" onclick="mostrarProdutos('laticinios')">
          <img src="imagens/laticinios.jpg" alt="Laticínios">
          <h3>Laticínios</h3>
        </div>
        <div class="barraca" onclick="mostrarProdutos('sementes')">
          <img src="imagens/sementes.jpg" alt="Sementes">
          <h3>Sementes</h3>
        </div>
        <div class="barraca" onclick="mostrarProdutos('frutas')">
          <img src="imagens/frutas.jpg" alt="Frutas">
          <h3>Frutas</h3>
        </div>
        <div class="barraca" onclick="mostrarProdutos('mel')">
          <img src="imagens/mel.jpg" alt="Mel e derivados">
          <h3>Mel</h3>
        </div>
        <div class="barraca" onclick="mostrarProdutos('hortalicas')">
          <img src="imagens/hortalicas.jpg" alt="Hortaliças">
          <h3>Hortaliças</h3>
        </div>
        <div class="barraca" onclick="mostrarProdutos('organicos')">
          <img src="imagens/organicos.jpg" alt="Orgânicos">
          <h3>Orgânicos</h3>
        </div>
      </div>
    </section>

    <!-- Área de Produtos -->
    <section id="produtos">
      <h2>Produtos</h2>
      <div id="lista-produtos" class="produtos-container">
        <!-- Produtos serão carregados dinamicamente com JS -->
      </div>
    </section>

    <!-- Carrinho -->
    <section id="carrinho">
      <h2>🛒 Carrinho de Compras</h2>
      <ul id="itens-carrinho"></ul>
      <p>Total: R$ <span id="total-carrinho">0.00</span></p>
      <button onclick="finalizarCompra()">Finalizar Compra</button>
      <button onclick="esvaziarCarrinho()">Esvaziar Carrinho</button>
    </section>
  </main>

  <!-- Rodapé com redes sociais -->
  <footer>
    <p>&copy; 2025 Estação da Terra. Todos os direitos reservados.</p>
    <a href="https://instagram.com" target="_blank" class="btn-social">🌿 Instagram</a>
    <a href="https://facebook.com" target="_blank" class="btn-social">🌾 Facebook</a>
  </footer>

  <!-- VLibras -->
  <div vw class="enabled">
    <div vw-access-button class="active"></div>
    <div vw-plugin-wrapper>
      <div class="vw-plugin-top-wrapper"></div>
    </div>
  </div>

  <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>

  <!-- Script principal -->
  <script>
    // Acessibilidade
    function ativarContraste() {
      document.body.classList.toggle("contraste");
    }

    function aumentarFonte() {
      document.body.style.fontSize = "larger";
    }

    function ativarVLibras() {
      new window.VLibras.Widget("https://vlibras.gov.br/app");
    }

    // Entrada
    window.onload = () => {
      setTimeout(() => {
        document.getElementById("entrada").style.display = "none";
      }, 3000);
    };

    // Produtos
    const produtos = {
      graos: [
        { nome: "Arroz Orgânico", preco: 7.99, imagem: "imagens/arroz.jpg" },
        { nome: "Feijão Preto", preco: 6.50, imagem: "imagens/feijao.jpg" }
      ],
      verduras: [
        { nome: "Alface", preco: 2.50, imagem: "imagens/alface.jpg" },
        { nome: "Couve", preco: 3.00, imagem: "imagens/couve.jpg" }
      ],
      // adicionar mais categorias...
    };

    function mostrarProdutos(categoria) {
      const container = document.getElementById("lista-produtos");
      container.innerHTML = "";
      produtos[categoria].forEach(p => {
        const card = document.createElement("div");
        card.className = "produto-card";
        card.innerHTML = `
          <img src="${p.imagem}" alt="${p.nome}" />
          <h3>${p.nome}</h3>
          <p>R$ ${p.preco.toFixed(2)}</p>
          <button onclick="adicionarAoCarrinho('${p.nome}', ${p.preco})">Adicionar</button>
        `;
        container.appendChild(card);
      });
    }

    // Carrinho
    let carrinho = [];
    function adicionarAoCarrinho(nome, preco) {
      carrinho.push({ nome, preco });
      atualizarCarrinho();
    }

    function atualizarCarrinho() {
      const lista = document.getElementById("itens-carrinho");
      lista.innerHTML = "";
      let total = 0;
      carrinho.forEach(item => {
        const li = document.createElement("li");
        li.textContent = `${item.nome} - R$ ${item.preco.toFixed(2)}`;
        lista.appendChild(li);
        total += item.preco;
      });
      document.getElementById("total-carrinho").textContent = total.toFixed(2);
    }

    function esvaziarCarrinho() {
      carrinho = [];
      atualizarCarrinho();
    }

    function finalizarCompra() {
      alert("Obrigado pela sua compra! 🌱");
      esvaziarCarrinho();
    }
  </script>
</body>
</html>
