<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Esta√ß√£o da Terra - Loja</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
  <style>
    /* Bot√£o voltar ao topo */
    #btnTopo {
      position: fixed;
      bottom: 40px;
      right: 40px;
      background-color: #4CAF50;
      color: white;
      border: none;
      padding: 12px 16px;
      border-radius: 50%;
      font-size: 24px;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      display: none;
      z-index: 9999;
      transition: background-color 0.3s;
    }
    #btnTopo:hover {
      background-color: #388E3C;
    }
  </style>
</head>
<body>
  <!-- Acessibilidade -->
  <div id="acessibilidade">
    <button onclick="toggleContraste()" aria-label="Alternar contraste">üåì</button>
    <button onclick="aumentarFonte()" aria-label="Aumentar fonte">üî†</button>
    <button onclick="diminuirFonte()" aria-label="Diminuir fonte">üî°</button>
  </div>

  <!-- VLibras -->
  <div vw class="enabled">
    <div vw-access-button class="active"></div>
    <div vw-plugin-wrapper>
      <div class="vw-plugin-top-wrapper"></div>
    </div>
  </div>

  <!-- Cabe√ßalho -->
  <header>
    <h1>Esta√ß√£o da Terra</h1>
    <p class="slogan">Do campo √† cidade, colhendo oportunidades</p>
    <nav class="menu">
      <ul>
        <li><a href="quiz.html">Quiz</a></li>
        <li><a href="sobre.html">Sobre</a></li>
      </ul>
    </nav>
  </header>

  <!-- Loja -->
  <main>
    <section id="produtos">
      <h2>Produtos √† Venda</h2>
      <div class="barracas">

        <!-- Produtos originais -->
        <div class="produto-card">
          <img src="img/ma√ß√£.jpg" alt="Ma√ß√£ Org√¢nica">
          <h3>Ma√ß√£ Org√¢nica</h3>
          <p>R$ 3,00/kg</p>
          <button onclick="adicionarAoCarrinho('Ma√ß√£ Org√¢nica', 3)">Adicionar</button>
        </div>
        <div class="produto-card">
          <img src="img/mel.jpg" alt="Mel Puro">
          <h3>Mel Puro</h3>
          <p>R$ 15,00</p>
          <button onclick="adicionarAoCarrinho('Mel Puro', 15)">Adicionar</button>
        </div>
        <div class="produto-card">
          <img src="img/queijo.jpg" alt="Queijo Artesanal">
          <h3>Queijo Artesanal</h3>
          <p>R$ 25,00</p>
          <button onclick="adicionarAoCarrinho('Queijo Artesanal', 25)">Adicionar</button>
        </div>

        <!-- Novos produtos adicionados -->
        <div class="produto-card">
          <img src="img/banana.jpg" alt="Banana">
          <h3>Banana</h3>
          <p>R$ 2,50/kg</p>
          <button onclick="adicionarAoCarrinho('Banana', 2.5)">Adicionar</button>
        </div>
        <div class="produto-card">
          <img src="img/tomate.jpg" alt="Tomate">
          <h3>Tomate</h3>
          <p>R$ 4,00/kg</p>
          <button onclick="adicionarAoCarrinho('Tomate', 4)">Adicionar</button>
        </div>
        <div class="produto-card">
          <img src="img/alface.jpg" alt="Alface">
          <h3>Alface</h3>
          <p>R$ 1,80/un</p>
          <button onclick="adicionarAoCarrinho('Alface', 1.8)">Adicionar</button>
        </div>
        <div class="produto-card">
          <img src="img/cenoura.jpg" alt="Cenoura">
          <h3>Cenoura</h3>
          <p>R$ 3,20/kg</p>
          <button onclick="adicionarAoCarrinho('Cenoura', 3.2)">Adicionar</button>
        </div>
        <div class="produto-card">
          <img src="img/batata.jpg" alt="Batata">
          <h3>Batata</h3>
          <p>R$ 2,90/kg</p>
          <button onclick="adicionarAoCarrinho('Batata', 2.9)">Adicionar</button>
        </div>
        <div class="produto-card">
          <img src="img/abacate.jpg" alt="Abacate">
          <h3>Abacate</h3>
          <p>R$ 7,00/un</p>
          <button onclick="adicionarAoCarrinho('Abacate', 7)">Adicionar</button>
        </div>
        <div class="produto-card">
          <img src="img/P√£ointegral.jpg" alt="P√£o Integral">
          <h3>P√£o Integral</h3>
          <p>R$ 6,50</p>
          <button onclick="adicionarAoCarrinho('P√£o Integral', 6.5)">Adicionar</button>
        </div>
        <div class="produto-card">
          <img src="img/leite.jpg" alt="Leite">
          <h3>Leite</h3>
          <p>R$ 4,00/litro</p>
          <button onclick="adicionarAoCarrinho('Leite', 4)">Adicionar</button>
        </div>
        <div class="produto-card">
          <img src="img/ovo.jpg" alt="Ovos">
          <h3>Ovos</h3>
          <p>R$ 8,00/12 unidades</p>
          <button onclick="adicionarAoCarrinho('Ovos', 8)">Adicionar</button>
        </div>
        <div class="produto-card">
          <img src="img/arroz.jpg" alt="Arroz Integral">
          <h3>Arroz</h3>
          <p>R$ 5,50/kg</p>
          <button onclick="adicionarAoCarrinho('Arroz Integral', 5.5)">Adicionar</button>
        </div>
        <div class="produto-card">
          <img src="img/feij√£o.jpg" alt="Feij√£o">
          <h3>Feij√£o</h3>
          <p>R$ 6,00/kg</p>
          <button onclick="adicionarAoCarrinho('Feij√£o', 6)">Adicionar</button>
        </div>
      </div>
    </section>

    <!-- Carrinho -->
    <section id="carrinho">
      <h2>üõí Carrinho de Compras</h2>
      <ul id="lista-carrinho"></ul>
      <button onclick="esvaziarCarrinho()">üóëÔ∏è Esvaziar Carrinho</button>
    </section>
  </main>

  <button id="btnTopo" title="Voltar ao topo" aria-label="Voltar ao topo">‚¨ÜÔ∏è</button>

  <footer>
    <p>&copy; 2025 Esta√ß√£o da Terra. Todos os direitos reservados.</p>
  </footer>

  <script>
    new window.VLibras.Widget('https://vlibras.gov.br/app');

    let carrinho = [];

    // Adiciona produto ao carrinho; recebe nome e pre√ßo
    function adicionarAoCarrinho(produto, preco) {
      // Verifica se produto j√° est√° no carrinho
      const itemExistente = carrinho.find(item => item.nome === produto);
      if (itemExistente) {
        itemExistente.quantidade++;
      } else {
        carrinho.push({ nome: produto, preco: preco, quantidade: 1 });
      }
      atualizarCarrinho();
    }

    // Atualiza visual da lista do carrinho
    function atualizarCarrinho() {
      const lista = document.getElementById("lista-carrinho");
      lista.innerHTML = "";

      if (carrinho.length === 0) {
        const vazio = document.createElement("li");
        vazio.textContent = "Carrinho vazio.";
        lista.appendChild(vazio);
        return;
      }

      carrinho.forEach(item => {
        const li = document.createElement("li");
        li.textContent = `${item.nome} ‚Äî ${item.quantidade}x ‚Äî R$ ${(item.preco * item.quantidade).toFixed(2)}`;
        lista.appendChild(li);
      });

      // Total geral
      const total = carrinho.reduce((acc, item) => acc + item.preco * item.quantidade, 0);
      const liTotal = document.createElement("li");
      liTotal.style.fontWeight = "bold";
      liTotal.style.marginTop = "10px";
      liTotal.textContent = `Total: R$ ${total.toFixed(2)}`;
      lista.appendChild(liTotal);
    }

    // Esvazia carrinho
    function esvaziarCarrinho() {
      carrinho = [];
      atualizarCarrinho();
    }

    // Contraste
    function toggleContraste() {
      document.body.classList.toggle("contraste");
    }

    // Fonte maior
    function aumentarFonte() {
      const style = window.getComputedStyle(document.body).fontSize;
      let size = parseFloat(style);
      if (size < 24) {
        document.body.style.fontSize = (size + 2) + "px";
      }
    }

    // Fonte menor
    function diminuirFonte() {
      const style = window.getComputedStyle(document.body).fontSize;
      let size = parseFloat(style);
      if (size > 12) {
        document.body.style.fontSize = (size - 2) + "px";
      }
    }

    // Bot√£o voltar ao topo
    const btnTopo = document.getElementById("btnTopo");

    window.onscroll = function() {
      if (document.documentElement.scrollTop > 150) {
        btnTopo.style.display = "block";
      } else {
        btnTopo.style.display = "none";
      }
    };

    btnTopo.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
    });

    // Inicializa carrinho vazio
    atualizarCarrinho();
  </script>
</body>
</html>
