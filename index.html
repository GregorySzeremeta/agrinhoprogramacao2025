<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Esta√ß√£o da Terra - Produtos do Campo</title>
<!-- Link para fonte minimalista -->
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet" />
</head>
<body>

<!-- Bot√£o LIBRAS -->
<button id="btn-libras" aria-label="Ativar tradu√ß√£o em LIBRAS" title="Ativar tradu√ß√£o em LIBRAS" style="position:fixed;bottom:15px;right:15px;z-index:1000;padding:10px;border:none;background:#4CAF50;color:#fff;border-radius:50%;font-size:20px;cursor:pointer;">üëê</button>

<!-- Bot√£o Som Ambiente -->
<button id="btn-som" aria-label="Ativar/Desativar som ambiente" title="Ativar/Desativar som ambiente" style="position:fixed;bottom:15px;right:75px;z-index:1000;padding:10px;border:none;background:#4CAF50;color:#fff;border-radius:50%;font-size:20px;cursor:pointer;">üîä</button>

<!-- Anima√ß√£o de √°rvore no topo -->
<div id="animacao-arvore" aria-hidden="true" style="text-align:center; margin: 1rem;">
  <svg id="arvore-svg" width="150" height="200" viewBox="0 0 100 140" xmlns="http://www.w3.org/2000/svg">
    <rect id="tronco" x="45" y="100" width="10" height="40" fill="#6B4F1A"/>
    <circle id="folhas" cx="50" cy="70" r="40" fill="#4CAF50" opacity="0" />
  </svg>
</div>

<!-- Cabe√ßalho e Menu -->
<header style="background:#e9f0e7; padding: 1rem 2rem; display:flex; justify-content:space-between; align-items:center; position:sticky; top:0; z-index:999;">
  <h1 style="font-family: 'Montserrat', sans-serif; color:#2e4d25; margin:0;">Esta√ß√£o da Terra</h1>
  <nav aria-label="Menu principal">
    <ul style="list-style:none; margin:0; padding:0; display:flex; gap:1rem; font-family: 'Montserrat', sans-serif;">
      <li><button class="menu-btn" data-section="loja" aria-current="page" style="background:none; border:none; color:#2e4d25; font-weight:600; cursor:pointer;">Loja</button></li>
      <li><button class="menu-btn" data-section="quiz" style="background:none; border:none; color:#2e4d25; font-weight:600; cursor:pointer;">Quiz</button></li>
      <li><button class="menu-btn" data-section="sobre" style="background:none; border:none; color:#2e4d25; font-weight:600; cursor:pointer;">Sobre</button></li>
      <li><button class="menu-btn" data-section="contato" style="background:none; border:none; color:#2e4d25; font-weight:600; cursor:pointer;">Contato</button></li>
    </ul>
  </nav>
</header>

<!-- Conte√∫do principal -->
<main style="padding:2rem; font-family: 'Montserrat', sans-serif; color:#2e4d25;">
  <!-- Se√ß√µes -->
  <section id="loja" aria-label="Loja de produtos do campo">
    <h2>Produtos do Campo</h2>
    <div id="produtos-container" style="display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:1.5rem; margin-top:1rem;"></div>
  </section>

  <section id="quiz" aria-label="Quiz sobre produ√ß√£o no campo" hidden>
    <h2>Quiz: Voc√™ sabe tudo sobre produ√ß√£o no campo?</h2>
    <form id="quiz-form" style="max-width:600px; margin-top:1rem;">
      <div>
        <p>1. Qual √© a principal fonte de nutrientes para as plantas?</p>
        <label><input type="radio" name="q1" value="a" required /> a) √Ågua</label><br />
        <label><input type="radio" name="q1" value="b" /> b) Solo</label><br />
        <label><input type="radio" name="q1" value="c" /> c) Luz solar</label>
      </div>
      <div>
        <p>2. O que √© aduba√ß√£o org√¢nica?</p>
        <label><input type="radio" name="q2" value="a" required /> a) Uso de fertilizantes qu√≠micos</label><br />
        <label><input type="radio" name="q2" value="b" /> b) Uso de composto natural</label><br />
        <label><input type="radio" name="q2" value="c" /> c) Irriga√ß√£o controlada</label>
      </div>
      <div>
        <p>3. Qual √© o benef√≠cio da rota√ß√£o de culturas?</p>
        <label><input type="radio" name="q3" value="a" required /> a) Aumenta a eros√£o do solo</label><br />
        <label><input type="radio" name="q3" value="b" /> b) Melhora a sa√∫de do solo</label><br />
        <label><input type="radio" name="q3" value="c" /> c) Reduz a biodiversidade</label>
      </div>
      <button type="submit" style="margin-top:1rem; padding: 0.5rem 1rem; font-weight:600; cursor:pointer; background:#4CAF50; color:white; border:none; border-radius:5px;">Enviar Respostas</button>
    </form>
    <div id="resultado-quiz" style="margin-top:1rem; font-weight:600;"></div>
  </section>

  <section id="sobre" aria-label="Sobre a Esta√ß√£o da Terra" hidden>
    <h2>Sobre N√≥s</h2>
    <p>Somos a Esta√ß√£o da Terra, uma plataforma que conecta voc√™ aos melhores produtos frescos do campo, promovendo a sustentabilidade, o consumo consciente e o apoio aos agricultores locais.</p>
  </section>

  <section id="contato" aria-label="Formul√°rio de contato" hidden>
    <h2>Contato</h2>
    <form id="form-contato" style="max-width:600px; margin-top:1rem; display:flex; flex-direction:column; gap:1rem;">
      <label for="nome">Nome:</label>
      <input type="text" id="nome" name="nome" required aria-required="true" />
      
      <label for="email">E-mail:</label>
      <input type="email" id="email" name="email" required aria-required="true" />
      
      <label for="mensagem">Mensagem:</label>
      <textarea id="mensagem" name="mensagem" rows="4" required aria-required="true"></textarea>
      
      <button type="submit" style="padding: 0.5rem 1rem; font-weight:600; cursor:pointer; background:#4CAF50; color:white; border:none; border-radius:5px;">Enviar</button>
    </form>
    <div id="contato-resposta" style="margin-top:1rem; font-weight:600;"></div>
  </section>

  <!-- Carrinho -->
  <aside id="carrinho" aria-label="Carrinho de compras" style="position:fixed; right:0; top:70px; width:320px; max-height:90vh; background:#f0f5ee; border-left:3px solid #4CAF50; box-shadow: -2px 0 10px rgba(0,0,0,0.1); padding:1rem; overflow-y:auto;">
    <h2>Carrinho</h2>
    <ul id="lista-carrinho" style="list-style:none; padding:0; max-height:50vh; overflow-y:auto;"></ul>
    <p id="total-carrinho" style="font-weight:600; margin-top:0.5rem;">Total: R$ 0,00</p>
    <button id="btn-esvaziar" style="background:#a94442; border:none; color:white; padding:0.5rem 1rem; border-radius:5px; cursor:pointer;">Esvaziar Carrinho</button>
    <button id="btn-finalizar" style="background:#4CAF50; border:none; color:white; padding:0.5rem 1rem; border-radius:5px; cursor:pointer; margin-top:0.5rem;">Finalizar Compra</button>
  </aside>

</main>

<!-- √Åudio ambiente -->
<audio id="audio-ambiente" loop src="https://cdn.pixabay.com/download/audio/2021/08/04/audio_121462d362.mp3?filename=forest-birds-ambient-11139.mp3"></audio>

<script>
  // Vari√°veis globais
  const produtos = [
    {id:1, nome:"Ma√ß√£ Org√¢nica", categoria:"Frutas", preco:6.50, img:"https://cdn.pixabay.com/photo/2017/01/20/00/30/apple-1995056_1280.jpg"},
    {id:2, nome:"Banana Nanica", categoria:"Frutas", preco:4.20, img:"https://cdn.pixabay.com/photo/2018/08/06/18/47/banana-3582389_1280.jpg"},
    {id:3, nome:"Leite Fresco", categoria:"Latic√≠nios", preco:5.00, img:"https://cdn.pixabay.com/photo/2018/03/09/12/05/milk-3202721_1280.jpg"},
    {id:4, nome:"Queijo Minas", categoria:"Latic√≠nios", preco:12.00, img:"https://cdn.pixabay.com/photo/2017/11/09/21/41/cheese-2937839_1280.jpg"},
    {id:5, nome:"Mel Silvestre", categoria:"Mel", preco:25.00, img:"https://cdn.pixabay.com/photo/2017/04/23/19/42/honey-2253422_1280.jpg"},
    {id:6, nome:"Tomate Org√¢nico", categoria:"Verduras", preco:3.50, img:"https://cdn.pixabay.com/photo/2018/07/20/20/55/tomatoes-3559252_1280.jpg"},
    {id:7, nome:"Alface Crespa", categoria:"Verduras", preco:2.50, img:"https://cdn.pixabay.com/photo/2014/12/21/23/28/lettuce-576719_1280.jpg"},
    {id:8, nome:"Arroz Integral", categoria:"Gr√£os", preco:10.00, img:"https://cdn.pixabay.com/photo/2017/03/28/16/38/rice-2184166_1280.jpg"},
    {id:9, nome:"Feij√£o Preto", categoria:"Gr√£os", preco:8.50, img:"https://cdn.pixabay.com/photo/2016/10/21/08/10/beans-1757283_1280.jpg"},
    {id:10, nome:"Cenoura Org√¢nica", categoria:"Verduras", preco:3.20, img:"https://cdn.pixabay.com/photo/2017/01/20/00/30/carrot-1995055_1280.jpg"},
    {id:11, nome:"Ab√≥bora Caboti√°", categoria:"Verduras", preco:6.80, img:"https://cdn.pixabay.com/photo/2016/10/27/22/15/pumpkin-1771795_1280.jpg"},
    {id:12, nome:"P√™ssego Fresco", categoria:"Frutas", preco:7.50, img:"https://cdn.pixabay.com/photo/2017/07/31/21/58/peach-2551359_1280.jpg"},
    {id:13, nome:"Morango Org√¢nico", categoria:"Frutas", preco:12.30, img:"https://cdn.pixabay.com/photo/2018/05/05/23/52/strawberries-3377751_1280.jpg"},
    {id:14, nome:"Ovos Caipiras", categoria:"Derivados", preco:9.00, img:"https://cdn.pixabay.com/photo/2016/12/06/09/31/eggs-1889783_1280.jpg"},
    {id:15, nome:"Iogurte Natural", categoria:"Latic√≠nios", preco:7.20, img:"https://cdn.pixabay.com/photo/2017/03/29/19/18/yogurt-2189948_1280.jpg"},
    {id:16, nome:"Farinha de Mandioca", categoria:"Gr√£os", preco:4.50, img:"https://cdn.pixabay.com/photo/2018/02/12/17/52/manioc-3148014_1280.jpg"},
    {id:17, nome:"Caf√© Torrado", categoria:"Gr√£os", preco:18.00, img:"https://cdn.pixabay.com/photo/2017/03/27/14/56/coffee-2179327_1280.jpg"},
    {id:18, nome:"Ch√° de Ervas", categoria:"Derivados", preco:9.50, img:"https://cdn.pixabay.com/photo/2016/02/13/12/26/herbal-tea-1190784_1280.jpg"},
    {id:19, nome:"Batata Doce", categoria:"Verduras", preco:3.70, img:"https://cdn.pixabay.com/photo/2016/11/29/10/07/sweet-potato-1869655_1280.jpg"},
    {id:20, nome:"Azeite de Oliva", categoria:"Derivados", preco:30.00, img:"https://cdn.pixabay.com/photo/2017/02/01/22/02/olive-oil-2031178_1280.jpg"},
    {id:21, nome:"Melancia", categoria:"Frutas", preco:8.00, img:"https://cdn.pixabay.com/photo/2017/01/14/12/59/watermelon-1972375_1280.jpg"},
    {id:22, nome:"Cebola Roxa", categoria:"Verduras", preco:2.80, img:"https://cdn.pixabay.com/photo/2016/03/27/19/43/onions-1280801_1280.jpg"},
    {id:23, nome:"Pimenta Biquinho", categoria:"Verduras", preco:4.10, img:"https://cdn.pixabay.com/photo/2016/09/14/15/42/peppers-1678528_1280.jpg"},
    {id:24, nome:"Gengibre", categoria:"Verduras", preco:5.00, img:"https://cdn.pixabay.com/photo/2017/07/24/15/55/ginger-2539362_1280.jpg"},
    {id:25, nome:"Suco Natural de Laranja", categoria:"Derivados", preco:6.00, img:"https://cdn.pixabay.com/photo/2018/01/15/07/51/oranges-3081364_1280.jpg"},
    {id:26, nome:"Semente de Ab√≥bora", categoria:"Sementes", preco:10.50, img:"https://cdn.pixabay.com/photo/2016/12/28/13/32/pumpkin-seeds-1931117_1280.jpg"},
    {id:27, nome:"Farinha de Trigo", categoria:"Gr√£os", preco:5.00, img:"https://cdn.pixabay.com/photo/2015/06/24/16/05/flour-820536_1280.jpg"},
    {id:28, nome:"Alho Org√¢nico", categoria:"Verduras", preco:6.00, img:"https://cdn.pixabay.com/photo/2014/04/10/11/14/garlic-320515_1280.jpg"},
    {id:29, nome:"Couve Manteiga", categoria:"Verduras", preco:2.70, img:"https://cdn.pixabay.com/photo/2017/02/14/09/29/cabbage-2064188_1280.jpg"},
    {id:30, nome:"Abacate", categoria:"Frutas", preco:9.00, img:"https://cdn.pixabay.com/photo/2017/02/25/17/03/avocado-2099880_1280.jpg"},
  ];

  let carrinho = [];

  // Fun√ß√£o para formatar pre√ßo em reais
  function formatarPreco(valor){
    return valor.toLocaleString('pt-BR',{style:'currency', currency:'BRL'});
  }

  // Criar cards dos produtos
  function mostrarProdutos(){
    const container = document.getElementById('produtos-container');
    container.innerHTML = "";
    produtos.forEach(prod => {
      const card = document.createElement('article');
      card.setAttribute('tabindex', '0');
      card.style.border = "1px solid #c6d2bf";
      card.style.borderRadius = "10px";
      card.style.padding = "1rem";
      card.style.background = "#fff";
      card.style.boxShadow = "0 2px 5px rgba(0,0,0,0.1)";
      card.innerHTML = `
        <img src="${prod.img}" alt="${prod.nome}" style="width:100%; height:140px; object-fit:cover; border-radius:10px 10px 0 0;" />
        <h3 style="margin:0.5rem 0;">${prod.nome}</h3>
        <p><strong>Categoria:</strong> ${prod.categoria}</p>
        <p><strong>Pre√ßo:</strong> ${formatarPreco(prod.preco)}</p>
        <button aria-label="Adicionar ${prod.nome} ao carrinho" data-id="${prod.id}" style="background:#4CAF50; color:white; border:none; padding:0.5rem 1rem; border-radius:5px; cursor:pointer;">Adicionar</button>
      `;
      container.appendChild(card);
    });
  }

  // Atualizar carrinho na tela
  function atualizarCarrinho(){
    const lista = document.getElementById('lista-carrinho');
    const total = document.getElementById('total-carrinho');
    lista.innerHTML = "";
    let totalValor = 0;
    carrinho.forEach(item => {
      totalValor += item.preco * item.quantidade;
      const li = document.createElement('li');
      li.style.marginBottom = "0.5rem";
      li.innerHTML = `
        ${item.nome} - ${formatarPreco(item.preco)} x ${item.quantidade}
        <button aria-label="Remover um ${item.nome}" data-id="${item.id}" style="margin-left:8px; background:#a94442; color:#fff; border:none; border-radius:50%; width:22px; height:22px; cursor:pointer;">‚àí</button>
      `;
      lista.appendChild(li);
    });
    total.textContent = `Total: ${formatarPreco(totalValor)}`;
  }

  // Adicionar produto ao carrinho
  function adicionarCarrinho(id){
    const produto = produtos.find(p => p.id === id);
    if(!produto) return;
    const itemCarrinho = carrinho.find(i => i.id === id);
    if(itemCarrinho){
      itemCarrinho.quantidade++;
    } else {
      carrinho.push({...produto, quantidade:1});
    }
    atualizarCarrinho();
  }

  // Remover um item do carrinho
  function removerDoCarrinho(id){
    const itemIndex = carrinho.findIndex(i => i.id === id);
    if(itemIndex === -1) return;
    if(carrinho[itemIndex].quantidade > 1){
      carrinho[itemIndex].quantidade--;
    } else {
      carrinho.splice(itemIndex,1);
    }
    atualizarCarrinho();
  }

  // Esvaziar carrinho
  function esvaziarCarrinho(){
    if(confirm("Tem certeza que deseja esvaziar o carrinho?")){
      carrinho = [];
      atualizarCarrinho();
    }
  }

  // Finalizar compra (simula√ß√£o)
  function finalizarCompra(){
    if(carrinho.length === 0){
      alert("Seu carrinho est√° vazio!");
      return;
    }
    alert("Compra finalizada com sucesso! Obrigado por comprar na Esta√ß√£o da Terra.");
    carrinho = [];
    atualizarCarrinho();
  }

  // Controlar se√ß√µes vis√≠veis do menu
  function mostrarSecao(nome){
    document.querySelectorAll('main > section').forEach(sec => {
      if(sec.id === nome){
        sec.hidden = false;
      } else {
        sec.hidden = true;
      }
    });
    // Atualizar aria-current nos bot√µes do menu
    document.querySelectorAll('.menu-btn').forEach(btn => {
      if(btn.dataset.section === nome){
        btn.setAttribute('aria-current','page');
      } else {
        btn.removeAttribute('aria-current');
      }
    });
  }

  // Quiz
  function checarQuiz(event){
    event.preventDefault();
    const respostasCertas = {q1:'b', q2:'b', q3:'b'};
    let acertos = 0;
    for(let q in respostasCertas){
      const resposta = event.target[q].value;
      if(resposta === respostasCertas[q]) acertos++;
    }
    const resultadoDiv = document.getElementById('resultado-quiz');
    resultadoDiv.textContent = `Voc√™ acertou ${acertos} de 3 perguntas.`;
  }

  // Form contato
  function enviarContato(event){
    event.preventDefault();
    const nome = event.target.nome.value.trim();
    const email = event.target.email.value.trim();
    const msg = event.target.mensagem.value.trim();
    if(nome && email && msg){
      document.getElementById('contato-resposta').textContent = `Obrigado pelo contato, ${nome}! Responderemos em breve.`;
      event.target.reset();
    }
  }

  // Bot√£o LIBRAS (simula√ß√£o simples)
  let librasAtivo = false;
  document.getElementById('btn-libras').addEventListener('click', ()=>{
    librasAtivo = !librasAtivo;
    alert(librasAtivo ? 'Tradu√ß√£o em LIBRAS ativada (simula√ß√£o)' : 'Tradu√ß√£o em LIBRAS desativada');
  });

  // Bot√£o som ambiente
  const audioAmbiente = document.getElementById('audio-ambiente');
  let somAtivo = false;
  document.getElementById('btn-som').addEventListener('click', ()=>{
    somAtivo = !somAtivo;
    if(somAtivo){
      audioAmbiente.play();
      document.getElementById('btn-som').textContent = "üîà";
    } else {
      audioAmbiente.pause();
      document.getElementById('btn-som').textContent = "üîä";
    }
  });

  // Anima√ß√£o de crescer √°rvore (simplificada)
  function animarArvore(){
    const folhas = document.getElementById('folhas');
    let opacidade = 0;
    let tamanho = 10;
    let cresc = true;
    const anim = setInterval(()=>{
      if(cresc){
        tamanho += 1;
        opacidade += 0.03;
        if(tamanho >= 40) cresc = false;
      } else {
        tamanho -= 1;
        opacidade -= 0.03;
        if(tamanho <= 10) cresc = true;
      }
      folhas.setAttribute('r', tamanho);
      folhas.setAttribute('opacity', opacidade.toFixed(2));
    }, 80);
  }

  // Eventos de menu
  document.querySelectorAll('.menu-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      mostrarSecao(btn.dataset.section);
    });
  });

  // Eventos de adicionar produto no carrinho
  document.getElementById('produtos-container').addEventListener('click', (e) => {
    if(e.target.tagName === 'BUTTON' && e.target.dataset.id){
      adicionarCarrinho(Number(e.target.dataset.id));
    }
  });

  // Eventos remover item do carrinho
  document.getElementById('lista-carrinho').addEventListener('click', (e) => {
    if(e.target.tagName === 'BUTTON' && e.target.dataset.id){
      removerDoCarrinho(Number(e.target.dataset.id));
    }
  });

  // Bot√µes carrinho
  document.getElementById('btn-esvaziar').addEventListener('click', esvaziarCarrinho);
  document.getElementById('btn-finalizar').addEventListener('click', finalizarCompra);

  // Formul√°rio quiz
  document.getElementById('quiz-form').addEventListener('submit', checarQuiz);

  // Form contato
  document.getElementById('form-contato').addEventListener('submit', enviarContato);

  // Inicializa√ß√£o
  mostrarProdutos();
  mostrarSecao('loja');
  animarArvore();
</script>

</body>
</html>
